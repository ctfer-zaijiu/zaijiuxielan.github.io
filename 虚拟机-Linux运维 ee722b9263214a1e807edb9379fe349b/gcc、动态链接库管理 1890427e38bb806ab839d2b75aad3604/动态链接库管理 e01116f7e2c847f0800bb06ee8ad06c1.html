<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>åŠ¨æ€é“¾æ¥åº“ç®¡ç†</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
	margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(50, 48, 44, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(50, 48, 44, 1);
}
.highlight-gray_background {
	background: rgba(248, 248, 247, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(248, 243, 252, 1);
}
.highlight-pink_background {
	background: rgba(252, 241, 246, 1);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(248, 248, 247, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(248, 243, 252, 1);
}
.block-color-pink_background {
	background: rgba(252, 241, 246, 1);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: undefined; }
.select-value-color-pink { background-color: rgba(225, 136, 179, 0.27); }
.select-value-color-purple { background-color: rgba(168, 129, 197, 0.27); }
.select-value-color-green { background-color: rgba(123, 183, 129, 0.27); }
.select-value-color-gray { background-color: rgba(84, 72, 49, 0.15); }
.select-value-color-transparentGray { background-color: undefined; }
.select-value-color-translucentGray { background-color: undefined; }
.select-value-color-orange { background-color: rgba(224, 124, 57, 0.27); }
.select-value-color-brown { background-color: rgba(210, 162, 141, 0.35); }
.select-value-color-red { background-color: rgba(244, 171, 159, 0.4); }
.select-value-color-yellow { background-color: rgba(236, 191, 66, 0.39); }
.select-value-color-blue { background-color: rgba(93, 165, 206, 0.27); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="e01116f7-e2c8-47f0-800b-b06ee8ad06c1" class="page sans"><header><img class="page-cover-image" src="https://www.notion.so/images/page-cover/rijksmuseum_rembrandt_1642.jpg" style="object-position:center 60%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">ğŸ«¦</span></div><h1 class="page-title">åŠ¨æ€é“¾æ¥åº“ç®¡ç†</h1><p class="page-description"></p></header><div class="page-body"><h1 id="1880427e-38bb-8071-97f0-e8fa3f70e334" class="">ä¸€ã€æ€»è§ˆ</h1><p id="1880427e-38bb-809d-893a-f5d0eb01f778" class="">ä¸ºäº†ä½¿ç¨‹åºèƒ½å¤Ÿä½¿ç”¨ æˆ‘ä»¬æŒ‡å®šç‰ˆæœ¬çš„glibcåº“è¿è¡Œï¼Œæˆ‘ä»¬éœ€åšåˆ°ä»¥ä¸‹ï¼š</p><p id="1880427e-38bb-8029-9c19-c95d8c50d176" class="">1ã€åœ¨å½“å‰osä¸­ä¸‹è½½å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„glibcåº“</p><p id="1880427e-38bb-80b1-b2a8-db60bb633171" class="">2ã€è®¾ç½®LD_LIBRARY_PATHç¯å¢ƒå˜é‡</p><h1 id="1880427e-38bb-80d8-ad50-d2000c118c88" class="">äºŒã€æ–¹æ¡ˆ1ï¼šåœ¨kaliç³»ç»Ÿä¸­ç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„glibc(ä¸æ¨è)</h1><blockquote id="1880427e-38bb-8074-8fcf-f8d9fc682670" class="">æ­¤å¤„ä»¥kaliä¸ºä¾‹ </blockquote><h3 id="1880427e-38bb-80c9-8193-c415857d64cd" class="">1-åœ¨æ“ä½œç³»ç»Ÿä¸­ä¸‹è½½å®‰è£…æŸç§ç‰ˆæœ¬çš„glibc</h3><ul id="1880427e-38bb-80a8-9ab0-c4a452f17587" class="toggle"><li><details open=""><summary>1ã€ä¸‹è½½ç¼–è¯‘å®‰è£… glibc æ‰€éœ€çš„å¿…è¦è½¯ä»¶åŒ…ï¼š</summary><p id="18e0427e-38bb-808b-8956-d01bec99af44" class="">ï¼ˆ1ï¼‰å…ˆä¸‹ä¸€äº›ä¾èµ–çš„å·¥å…·<div class="indented"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1880427e-38bb-803d-a453-e1aa30c53282" class="code"><code class="language-Plain Text">sudo apt update
sudo apt install build-essential libssl-dev libgdbm-dev libdb-dev libexpat-dev libncurses5-dev libbz2-dev zlib1g-dev gawk bison</code></pre></div></p><p id="18e0427e-38bb-8071-9e11-f704f59bbff6" class="">ï¼ˆ2ï¼‰ç„¶åä¸‹glibcç‰ˆæœ¬å¯¹åº”çš„gccï¼š<div class="indented"><blockquote id="18e0427e-38bb-8079-8e9f-f3433944a6d6" class="">gccç‰ˆæœ¬å¤ªé«˜ä¼šå¯¼è‡´ä¸€äº›ç¼–è¯‘é—®é¢˜ï¼Œ<mark class="highlight-blue">å› ä¸ºglibc2.23æ˜¯2016å¹´å‡ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å®‰è£…2016å¹´å¾€å‰ä¸¤å¹´å·¦å³å‘å¸ƒç‰ˆæœ¬çš„gccå³å¯ï¼Œä¹Ÿå°±æ˜¯gcc4.9</mark><p id="1900427e-38bb-802b-a5f2-ecb86abee282" class="">å¦‚æœè¿˜æ˜¯é‡åˆ°ç¼–è¯‘é—®é¢˜ï¼Œé‚£å°±å†ä¸€ç‚¹ä¸€ç‚¹åœ°é™ä½gccç‰ˆæœ¬åšå°è¯•ï¼Œ<mark class="highlight-blue">æ³¨æ„é‡è¯•æ—¶è¦rm-rfåˆ é™¤makeç›®å½•ï¼</mark></p></blockquote><p id="18e0427e-38bb-8010-bbb8-dd71281bd05c" class="">{1} æˆ‘ä»¬ç°åœ¨è¿™ä¸ªå¯¹åº”è¡¨é‡Œé¢ï¼Œæ‰¾åˆ°glibc2.23å¯¹åº”çš„å¹´ä»½ï¼Œä»¥åŠè¿™ä¸ªå¹´ä»½ä¸‹å¯¹åº”çš„gccï¼š<div class="indented"><p id="18e0427e-38bb-80a0-b49a-fd26988b2fab" class="">è¿™é‡Œæ˜¯å„ä¸ªç‰ˆæœ¬glibcã€gccå¯¹åº”çš„å‘å¸ƒæ—¶é—´ï¼Œè¯¦æƒ…è§ï¼š<a href="https://www.cnblogs.com/lightdb/p/6254046.html">https://www.cnblogs.com/lightdb/p/6254046.html</a></p><figure id="18e0427e-38bb-801f-bd2e-f36cf4a84036" class="image" style="text-align:left"><a href="gcc%E7%AE%A1%E7%90%86%201890427e38bb804aa397fe5cc98ece45/image.png"><img style="width:192px" src="gcc%E7%AE%A1%E7%90%86%201890427e38bb804aa397fe5cc98ece45/image.png"/></a></figure></div></p><p id="18e0427e-38bb-8006-b85f-d81d9a4ca575" class="">{2} å®‰è£…gcc<div class="indented"><p id="18e0427e-38bb-80e6-9305-ef0c710ca05e" class="">å…ˆå°†source.listæºé…ç½®ä¸­çš„ç‰ˆæœ¬ä»£å·æ”¹ä¸ºxenialï¼Œå³16.04ç‰ˆ</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="18e0427e-38bb-803e-95b4-f58475a6d791" class="code"><code class="language-Plain Text">vim /etc/apt/sources.list

# å†™å…¥
deb http://mirrors.aliyun.com/ubuntu/ xenial  main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse
# é€€å‡º
:wq

# ä¸‹è½½ æ›´æ–°æºåˆ—è¡¨ä¿¡æ¯
sudo apt-get update

# å¦‚æœæŠ¥é”™GPGå…¬é’¥ç¼ºå¤±ï¼Œåˆ™æ·»åŠ ç¡®å®çš„å…¬é’¥ï¼Œç„¶åå†æ›´æ–°ä¸€éåˆ—è¡¨ã€‚
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 40976EAF437D05B5
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 3B4FE6ACC0B21F32
sudo apt-get update</code></pre><p id="18e0427e-38bb-80d0-8ff2-e0ac3af9afb2" class="">ç„¶åå®‰è£…gcc-4.9</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="18e0427e-38bb-80a1-b5c6-dd49c730c51e" class="code"><code class="language-Plain Text"># å®‰è£…
apt-cache search gcc-4.9
apt-get install gcc-4.9
apt-get install g++-4.9

# æŸ¥çœ‹å®‰è£…ç»“æœ
dpkg -L gcc-4.9
# å¯ä»¥çœ‹åˆ°å®‰è£…åœ¨äº†ï¼š/usr/bin/gcc-4.9</code></pre><p id="18e0427e-38bb-8036-89ec-fd7fb0c275a0" class="">ç„¶åè®¾ç½®â€œgccâ€æŒ‡ä»¤å¯¹åº”çš„ç¨‹åºï¼Œé€šè¿‡ubantuå†…ç½®çš„å·¥å…·update-alternativesæ¥è®¾ç½®ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="18e0427e-38bb-804a-884f-c1e72b0f51f9" class="code"><code class="language-Plain Text"># 1ã€æŸ¥çœ‹ä»¥å‰çš„ä¼˜å…ˆçº§è®¾ç½®
sudo update-alternatives --config gcc

# 2ã€è®¾ç½®ä¼˜å…ˆçº§
# è®¾ç½®å¤šä¸ªç‰ˆæœ¬çš„gccå¯ä¾›é€‰æ‹©ã€‚80ï¼Œ60æ•°å­—ä»£è¡¨çš„æ˜¯ä¸åŒç‰ˆæœ¬çš„ä¼˜å…ˆçº§ï¼Œé»˜è®¤æœ€å¤§æ•°å­—ç‰ˆæœ¬çš„ä¼˜å…ˆçº§ã€‚--slave: è¿™ä¸ªé€‰é¡¹å…è®¸ä½ åŒæ—¶ç»´æŠ¤ä¸€ç»„ç›¸å…³çš„ç¬¦å·é“¾æ¥ï¼Œç¡®ä¿å®ƒä»¬éƒ½æŒ‡å‘åŒä¸€ç»„ç‰ˆæœ¬ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åˆ‡æ¢ GCC çš„ç‰ˆæœ¬ï¼ŒG++ çš„ç‰ˆæœ¬ä¹Ÿä¼šç›¸åº”æ”¹å˜ã€‚
ls /usr/bin/*gcc*
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 80 --slave /usr/bin/g++ g++ /usr/bin/g++-4.9
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-11 60 --slave /usr/bin/g++ g++ /usr/bin/g++-11

# 3ã€æŸ¥çœ‹æ˜¯å¦è®¾ç½®å®Œæˆ
gcc --version
</code></pre></div></p><blockquote id="18e0427e-38bb-8008-aa4d-c316494a6e87" class="">æ›´å¤šï¼Œå‚è€ƒï¼š<figure id="1890427e-38bb-804a-a397-fe5cc98ece45" class="link-to-page"><a href="gcc%E7%AE%A1%E7%90%86%201890427e38bb804aa397fe5cc98ece45.html"><span class="icon">ğŸ‹</span>gccç®¡ç†</a></figure></blockquote></div></p></details></li></ul><ul id="1880427e-38bb-80a9-9ee4-d3e331149580" class="toggle"><li><details open=""><summary>2ã€ä¸‹è½½glibcæºç ï¼Œè§£å‹ï¼Œå®‰è£…</summary><p id="1880427e-38bb-80a4-86e8-e432dd6972bf" class="">ï¼ˆ1ï¼‰å…ˆæ¥åˆ°å®˜ç½‘æ‰¾åˆ°ç›¸å…³å®‰è£…åŒ…çš„åå­—ï¼š<div class="indented"><p id="1880427e-38bb-802b-be96-f3343da1493e" class="">åœ°å€ï¼š<a href="https://ftp.gnu.org/gnu/glibc/">https://ftp.gnu.org/gnu/glibc/</a></p><figure id="1880427e-38bb-80c0-b80f-f88129fc60c8" class="image"><a href="%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E7%AE%A1%E7%90%86%20e01116f7e2c847f0800bb06ee8ad06c1/image.png"><img style="width:768px" src="%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E7%AE%A1%E7%90%86%20e01116f7e2c847f0800bb06ee8ad06c1/image.png"/></a></figure></div></p><p id="1880427e-38bb-8054-86c9-d9668bd93773" class="">ï¼ˆ2ï¼‰ä¸‹è½½è§£å‹<div class="indented"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1880427e-38bb-804a-9344-dd5ada7443d4" class="code"><code class="language-Shell">wget https://ftp.gnu.org/gnu/glibc/glibc-2.23.tar.xz
tar -xvf glibc-2.23.tar.xz
chmod a+rwx glibc-2.23</code></pre></div></p><p id="1880427e-38bb-8034-be58-d7ebbc360af4" class="">ï¼ˆ3ï¼‰ç¼–è¯‘ï¼Œå®‰è£…<div class="indented"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1880427e-38bb-8018-bfd6-d123932da8fe" class="code"><code class="language-Shell">cd glibc-2.23
mkdir build
cd build
../configure --prefix=/usr/local/glibc-2.23
make -j4
sudo make install</code></pre><blockquote id="1880427e-38bb-80d3-abd4-ea1cf6022883" class="">è¿™é‡ŒæŒ‡å®šå®‰è£…åˆ°ï¼š/usr/local/glibc-2.23</blockquote><ul id="1890427e-38bb-8026-87d0-eb0c237bcfe2" class="toggle"><li><details open=""><summary>å…¶ä¸­ï¼Œå…³äºè¿™ä¸ªæ„å»ºç›¸å…³çš„æ–‡ä»¶ï¼Œæ³¨é‡Šå¦‚ä¸‹</summary><ul id="1890427e-38bb-80a5-bdce-fb5ca9fce38f" class="toggle"><li><details open=""><summary>Makefileï¼š</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1890427e-38bb-80ce-b34a-cd06febcd656" class="code"><code class="language-Plain Text"># ç‰ˆæƒæ‰€æœ‰ (C) 1991-2016 è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼š, Inc.
# æ­¤æ–‡ä»¶æ˜¯GNU Cåº“çš„ä¸€éƒ¨åˆ†ã€‚

# *********************************/
#	å®‰è£…æ“ä½œ
# *********************************/
ifneq (,)
è¿™ä¸ªMakefileéœ€è¦GNU Makeã€‚
endif

# åŒ…å«é…ç½®æ–‡ä»¶
include Makeconfig

# è¿™æ˜¯é»˜è®¤ç›®æ ‡ï¼›å®ƒä¼šç”Ÿæˆé™¤æµ‹è¯•ä¹‹å¤–çš„æ‰€æœ‰å†…å®¹ã€‚
.PHONY: all
all: lib others

# å¦‚æœAUTOCONFå˜é‡ä¸æ˜¯noï¼Œåˆ™æ‰§è¡Œä»¥ä¸‹autoconf-itå®šä¹‰çš„æ“ä½œ
ifneq ($(AUTOCONF),no)

define autoconf-it
@-rm -f $@.new # å°è¯•åˆ é™¤æ–°ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶
$(AUTOCONF) $(ACFLAGS) $&lt; &gt; $@.new # ä½¿ç”¨autoconfå¤„ç†è¾“å…¥æ–‡ä»¶å¹¶è¾“å‡ºåˆ°ä¸´æ—¶æ–‡ä»¶
chmod a-w$(patsubst %,$(comma)a+x,$(filter .,$(@D))) $@.new # ä¿®æ”¹ä¸´æ—¶æ–‡ä»¶æƒé™
mv -f $@.new $@ # å°†ä¸´æ—¶æ–‡ä»¶é‡å‘½åä¸ºç›®æ ‡æ–‡ä»¶
endef

# å½“configureã€%/configureæˆ–%/preconfigureæ–‡ä»¶æ›´æ–°æ—¶è‡ªåŠ¨è°ƒç”¨autoconf-itå®
configure: configure.ac aclocal.m4; $(autoconf-it)
%/configure: %/configure.ac aclocal.m4; $(autoconf-it)
%/preconfigure: %/preconfigure.ac aclocal.m4; $(autoconf-it)

endif # $(AUTOCONF) = no

.NOTPARALLEL: # æˆ‘ä»¬ä¸å¸Œæœ›åœ¨è¿™é‡Œå¹¶è¡Œè¿è¡Œä»»ä½•æ“ä½œã€‚

# è¿™äº›æ˜¯åœ¨æ¯ä¸ªå­ç›®å½•ä¸­é€šè¿‡åˆ¶ä½œå®ƒä»¬æ¥å®Œæˆçš„ç›®æ ‡ã€‚
+subdir_targets := ...

headers := ... # å®šä¹‰äº†è¦å¤„ç†çš„å¤´æ–‡ä»¶åˆ—è¡¨
echo-headers: subdir_echo-headers # å®šä¹‰äº†ä¸€ä¸ªåä¸ºecho-headersçš„ç›®æ ‡

# å¤´æ–‡ä»¶ä½äºincludeç›®å½•ä¸­ã€‚
subdir-dirs = include
vpath %.h $(subdir-dirs) # æŒ‡å®šäº†.hæ–‡ä»¶çš„æœç´¢è·¯å¾„

install-others = $(inst_includedir)/gnu/stubs.h # å®šä¹‰äº†å…¶ä»–éœ€è¦å®‰è£…çš„å†…å®¹
install-bin-script = # å®‰è£…çš„äºŒè¿›åˆ¶è„šæœ¬ä¸ºç©º

ifeq (yes,$(build-shared))
headers += gnu/lib-names.h # å¦‚æœæ„å»ºå…±äº«åº“ï¼Œåˆ™åœ¨å¤´æ–‡ä»¶åˆ—è¡¨ä¸­æ·»åŠ gnu/lib-names.h
endif

include Makerules # åŒ…å«Makerulesæ–‡ä»¶

ifeq ($(build-programs),yes)
others: $(addprefix $(objpfx),$(install-bin-script)) # å¦‚æœæ„å»ºç¨‹åºï¼Œåˆ™å°†install-bin-scriptæ·»åŠ åˆ°othersç›®æ ‡
endif

install: subdir_install # å®‰è£…ä¹ŸåŒ…æ‹¬æ¥è‡ªå­ç›®å½•çš„å†…å®¹

install-headers: install-headers-nosubdir # æ˜¾å¼ä¾èµ–å…³ç³»ï¼Œä½¿å¾—`make install-headers&#x27;å¯ä»¥å·¥ä½œ

# ç¡®ä¿åŠ¨æ€é“¾æ¥å™¨åœ¨libcä¹‹å‰è¢«å®‰è£…ã€‚
$(inst_slibdir)/libc-$(version).so: elf/ldso_install

.PHONY: elf/ldso_install
elf/ldso_install:
	$(MAKE) -C $(@D) $(@F) # åˆ‡æ¢åˆ°å¯¹åº”ç›®å½•å¹¶æ‰§è¡ŒæŒ‡å®šçš„ç›®æ ‡

# å¦‚æœå¯èƒ½çš„è¯ï¼Œä½¿ç”¨`ldconfig&#x27;ç¨‹åºä¸ºå…±äº«åº“åˆ›å»ºé“¾æ¥ã€‚
# å¦‚æœæˆ‘ä»¬ä¸èƒ½æ›´æ–°/etc/ld.so.cacheï¼Œå¿½ç•¥é”™è¯¯ã€‚
ifeq (no,$(cross-compiling))
# å¦‚æœæ„å»ºå…±äº«åº“ï¼Œåˆ™æ‰§è¡Œä»¥ä¸‹æ“ä½œ
ifeq (yes,$(build-shared))
install: install-symbolic-link # å®‰è£…ç›®æ ‡ä¾èµ–äºinstall-symbolic-link
.PHONY: install-symbolic-link # å£°æ˜install-symbolic-linkä¸ºç›®æ ‡ï¼Œé˜²æ­¢ä¸æ–‡ä»¶åå†²çª
install-symbolic-link: subdir_install # install-symbolic-linkä¾èµ–äºsubdir_install
	$(symbolic-link-prog) $(symbolic-link-list) # ä½¿ç”¨symbolic-link-progåˆ›å»ºç¬¦å·é“¾æ¥
	rm -f $(symbolic-link-list) # åˆ é™¤ä¸´æ—¶ç¬¦å·é“¾æ¥åˆ—è¡¨

install:
	-test ! -x $(elf-objpfx)ldconfig || LC_ALL=C \ # æ£€æŸ¥æ˜¯å¦å­˜åœ¨ldconfigï¼Œå¹¶è®¾ç½®ç¯å¢ƒå˜é‡LC_ALLä¸ºC
	  $(elf-objpfx)ldconfig $(addprefix -r ,$(install_root)) \ # è¿è¡Œldconfigå¹¶æ·»åŠ å®‰è£…æ ¹ç›®å½•å‰ç¼€
				$(slibdir) $(libdir) # ldconfigå¤„ç†çš„ç›®å½•
ifneq (no,$(PERL)) # å¦‚æœPerlå¯ç”¨
ifeq (/usr,$(prefix)) # å¦‚æœå®‰è£…å‰ç¼€æ˜¯/usr
ifeq (,$(install_root)) # å¦‚æœæ²¡æœ‰æŒ‡å®šå®‰è£…æ ¹ç›®å½•
	LD_SO=$(ld.so-version) CC=&quot;$(CC)&quot; $(PERL) scripts/test-installation.pl $(common-objpfx) # è¿è¡Œæµ‹è¯•è„šæœ¬
endif
endif
endif
endif
endif

# æ„å»ºå­ç›®å½•ä¸­çš„åº“å¯¹è±¡ï¼Œä¸ä½¿ç”¨ranlibã€‚
lib-noranlib: subdir_lib

ifeq (yes,$(build-shared))
# ä»PICå¯¹è±¡åº“æ„å»ºå…±äº«å¯¹è±¡ã€‚
lib: $(common-objpfx)libc.so $(common-objpfx)linkobj/libc.so
endif # $(build-shared)

# è¿™æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„è„šæœ¬ï¼Œç”¨äºè¿è¡Œä»»ä½•åŠ¨æ€é“¾æ¥ç¨‹åºä»¥è¿›è¡Œå½“å‰libcæ„å»ºçš„æµ‹è¯•ã€‚
$(common-objpfx)testrun.sh: $(common-objpfx)config.make \
			    $(..)Makeconfig $(..)Makefile
	(echo &#x27;#!/bin/sh&#x27;; \ # åˆ›å»ºshellè„šæœ¬å¤´éƒ¨
	 echo &#x27;builddir=`dirname &quot;$$0&quot;`&#x27;; \ # è·å–æ„å»ºç›®å½•è·¯å¾„
	 echo &#x27;GCONV_PATH=&quot;$${builddir}/iconvdata&quot; \&#x27;; \ # è®¾ç½®GCONV_PATHç¯å¢ƒå˜é‡
	 echo &#x27;exec $(subst $(common-objdir),&quot;$${builddir}&quot;,\ # æ‰§è¡Œæ›¿æ¢åçš„å‘½ä»¤
			    $(test-program-prefix)) $${1+&quot;$$@&quot;}&#x27;; \
	) &gt; $@T # è¾“å‡ºåˆ°ä¸´æ—¶æ–‡ä»¶
	chmod a+x $@T # èµ‹äºˆæ‰§è¡Œæƒé™
	mv -f $@T $@ # ç§»åŠ¨ä¸´æ—¶æ–‡ä»¶ä¸ºæœ€ç»ˆæ–‡ä»¶
postclean-generated += testrun.sh # æ·»åŠ åˆ°æ¸…ç†ç”Ÿæˆæ–‡ä»¶åˆ—è¡¨

others: $(common-objpfx)testrun.sh # othersç›®æ ‡ä¾èµ–äºtestrun.shè„šæœ¬

# Makerulesåœ¨æ¯ä¸ªå­ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º`stubs&#x27;çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å«æ¯ä¸ªå®šä¹‰åœ¨è¯¥ç›®å½•ä¸­ä½œä¸ºå­˜æ ¹çš„å‡½æ•°çš„`#define __stub_FUNCTION&#x27;ã€‚
# åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†æ‰€æœ‰è¿™äº›ç»„åˆæˆ&lt;gnu/stubs.h&gt;ã€‚

subdir-stubs := $(foreach dir,$(subdirs),$(common-objpfx)$(dir)/stubs) # éå†å­ç›®å½•ç”Ÿæˆstubsæ–‡ä»¶åˆ—è¡¨

ifndef abi-variants
installed-stubs = $(inst_includedir)/gnu/stubs.h # å®šä¹‰é»˜è®¤å®‰è£…çš„stubs.hä½ç½®
else
installed-stubs = $(inst_includedir)/gnu/stubs-$(default-abi).h # æ ¹æ®ABIå˜ä½“å®šä¹‰å®‰è£…ä½ç½®

# å¤„ç†ABIå˜ä½“ç›¸å…³çš„stubs.hç”Ÿæˆé€»è¾‘
$(inst_includedir)/gnu/stubs.h: $(+force)
	$(make-target-directory)
	{ \
	 echo &#x27;/* This file is automatically generated.&#x27;;\ # æ³¨é‡Šè¯´æ˜æ­¤æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ
	 echo &quot;   This file selects the right generated file of \`__stub_FUNCTION&#x27; macros&quot;;\ # æ–‡ä»¶ç”¨é€”æè¿°
	 echo &#x27;   based on the architecture being compiled for.  */&#x27;; \
	 echo &#x27;&#x27;; \
	 $(foreach h,$(abi-includes), echo &#x27;#include &lt;$(h)&gt;;&#x27;) \ # åŒ…å«ç›¸å…³å¤´æ–‡ä»¶
	 echo &#x27;&#x27;; \
	 $(foreach v,$(abi-variants),\
	 $(if $(abi-$(v)-condition),\
	 echo &#x27;#if $(abi-$(v)-condition)&#x27;; \ # æ¡ä»¶ç¼–è¯‘
	 echo &#x27;# include &lt;gnu/stubs-$(v).h&gt;&#x27;); \ # åŒ…å«ç‰¹å®šABIå˜ä½“çš„stubs
	 $(if $(abi-$(v)-condition),echo &#x27;#endif&#x27;;) \
	 rm -f $(@:.d=.h).new$(v); \
	 ) \
	} &gt; $(@:.d=.h).new # å†™å…¥æ–°æ–‡ä»¶
	mv -f $(@:.d=.h).new $(@:.d=.h) # é‡å‘½åæ–°æ–‡ä»¶

install-others-nosubdir: $(installed-stubs) # å®‰è£…å…¶ä»–ä¸éœ€è¦å­ç›®å½•å¤„ç†çš„ç›®æ ‡
endif

# stubs.hä»…åœ¨æ„å»ºåº“æ—¶æ‰éœ€è¦ï¼Œå› æ­¤ç®€åŒ–äº†å¤æ‚çš„å®‰è£…è¿‡ç¨‹ï¼Œåªåœ¨é¡¶çº§`make install&#x27;çš„æœ€åä¸€éƒ¨åˆ†ç”Ÿæˆå®ƒã€‚å®ƒä¾èµ–äºsubdir_installï¼Œè¿™å°†éå†æ‰€æœ‰å­ç›®å½•ï¼›æ¯ä¸ªå­ç›®å½•çš„subdir_installä¾èµ–äºè¯¥å­ç›®å½•çš„stubsæ–‡ä»¶ã€‚
$(installed-stubs): include/stubs-prologue.h subdir_install
	$(make-target-directory)
	@rm -f $(objpfx)stubs.h
	(sed &#x27;/^@/d&#x27; $&lt;; LC_ALL=C sort $(subdir-stubs)) &gt; $(objpfx)stubs.h # ç”Ÿæˆstubs.h
	if test -r $@ &amp;&amp; cmp -s $(objpfx)stubs.h $@; \ # æ¯”è¾ƒæ–°æ—§stubs.h
	then echo &#x27;stubs.h unchanged&#x27;; \ # è‹¥ç›¸åŒåˆ™æç¤ºæœªæ›´æ”¹
	else $(INSTALL_DATA) $(objpfx)stubs.h $@; fi # å¦åˆ™å®‰è£…æ–°æ–‡ä»¶
	rm -f $(objpfx)stubs.h

# ä»Texinfoæºæ–‡ä»¶ç”Ÿæˆæ–‡æ¡£çš„Infoæˆ–DVIæ–‡ä»¶ã€‚
.PHONY: info dvi pdf html
info dvi pdf html:
	$(MAKE) $(PARALLELMFLAGS) -C manual $@ # åœ¨manualç›®å½•ä¸‹è¿è¡Œmakeï¼Œæ ¹æ®ç›®æ ‡ç”Ÿæˆç›¸åº”æ ¼å¼çš„æ–‡æ¡£

# å¯¹äºæ¯ä¸ªç›®æ ‡ï¼Œä½¿å…¶ä¾èµ–äºæ¯ä¸ªå­ç›®å½•DIRä¸‹çš„DIR/targetã€‚
$(+subdir_targets): %: $(addsuffix /%,$(subdirs))

# è®¡ç®—æ‰€æœ‰è¿™äº›ç›®æ ‡çš„åˆ—è¡¨ã€‚
all-subdirs-targets := $(foreach dir,$(subdirs),\
				 $(addprefix $(dir)/,$(+subdir_targets)))

# æ¯ä¸ªç›®æ ‡çš„æ“ä½œæ˜¯è¿›å…¥ç›®å½•å¹¶åœ¨æ­¤å¤„æ„å»ºç›®æ ‡ã€‚
$(all-subdirs-targets):
	$(MAKE) $(PARALLELMFLAGS) $(subdir-target-args) $(@F)

define subdir-target-args
subdir=$(@D)$(if $($(@D)-srcdir),\
-C $($(@D)-srcdir) ..=`pwd`/,\
-C $(@D) ..=../)
endef

.PHONY: $(+subdir_targets) $(all-subdirs-targets)

# ################################/
# å®‰è£…å®Œåçš„æ¸…ç†æ“ä½œ
# ################################/

# å„ç§ç¨‹åº¦æ¸…ç†çš„ç›®æ ‡ã€‚

.PHONY: clean realclean distclean distclean-1 parent-clean parent-mostlyclean \
	tests-clean

# æ‰€æœ‰æ¸…ç†ç›®æ ‡çš„å­ä¾‹ç¨‹ã€‚
parent-mostlyclean: common-mostlyclean # common-mostlycleanåœ¨Makerulesä¸­å®šä¹‰ã€‚
	-rm -f $(foreach o,$(object-suffixes-for-libc),\
		   $(common-objpfx)$(patsubst %,$(libtype$o),c)) \
	       $(addprefix $(objpfx),$(install-lib))
parent-clean: parent-mostlyclean common-clean

postclean = $(addprefix $(common-objpfx),$(postclean-generated)) \
	    $(addprefix $(objpfx),sysd-dirs sysd-rules) \
	    $(addprefix $(objpfx),sysd-sorted soversions.mk soversions.i)

clean: parent-clean
# é€šè¿‡è¿™ç§æ–¹å¼è€Œä¸æ˜¯å°†`subdir_clean&#x27;ä½œä¸ºæ­¤ç›®æ ‡çš„ä¾èµ–é¡¹æ¥å®Œæˆï¼Œä»¥ä¾¿åœ¨å¤„ç†å­ç›®å½•ä¹‹å‰åˆ é™¤libc.aï¼Œå¹¶ä¸”å½“libc.aå³å°†è¢«åˆ é™¤æ—¶ï¼Œå­ç›®å½•ä¸ä¼šå°è¯•ä»ä¸­ç§»é™¤å¯¹è±¡æ–‡ä»¶ã€‚
	@$(MAKE) subdir_clean no_deps=t
	-rm -f $(postclean)
mostlyclean: parent-mostlyclean
	@$(MAKE) subdir_mostlyclean no_deps=t
	-rm -f $(postclean)

tests-clean:
	@$(MAKE) subdir_testclean no_deps=t

# ç‰¹æ®Šæµ‹è¯•ç›¸å…³ç›®æ ‡ã€‚
tests-special += $(objpfx)c++-types-check.out $(objpfx)check-local-headers.out
ifneq ($(CXX),no)

vpath c++-types.data $(+sysdep_dirs)

# ################################/
# å®‰è£…å®Œåçš„æ£€æŸ¥ã€æµ‹è¯•æ“ä½œ
# ################################/

# æ£€æŸ¥C++ç±»å‹å…¼å®¹æ€§ã€‚
$(objpfx)c++-types-check.out: c++-types.data scripts/check-c++-types.sh
	scripts/check-c++-types.sh $&lt; $(CXX) $(filter-out -std=gnu11 $(+gccwarn-c),$(CFLAGS)) $(CPPFLAGS) &gt; $@; \
	$(evaluate-test)
endif

# æ£€æŸ¥æœ¬åœ°å¤´æ–‡ä»¶ã€‚
$(objpfx)check-local-headers.out: scripts/check-local-headers.sh
	AWK=&#x27;$(AWK)&#x27; scripts/check-local-headers.sh \
	  &quot;$(includedir)&quot; &quot;$(objpfx)&quot; &lt; /dev/null &gt; $@; \
	$(evaluate-test)

# å®‰è£…å¤´æ–‡ä»¶æ£€æŸ¥ï¼ˆå¦‚æœPerlå¯ç”¨ï¼‰ã€‚
ifneq ($(PERL),no)
installed-headers = argp/argp.h assert/assert.h catgets/nl_types.h \
		    crypt/crypt.h ctype/ctype.h debug/execinfo.h \
		    dirent/dirent.h dlfcn/dlfcn.h elf/elf.h elf/link.h \
		    gmon/sys/gmon.h gmon/sys/gmon_out.h gmon/sys/profil.h \
		    grp/grp.h gshadow/gshadow.h iconv/iconv.h iconv/gconv.h \
		    $(wildcard inet/netinet/*.h) \
		    $(wildcard inet/arpa/*.h inet/protocols/*.h) \
		    inet/aliases.h inet/ifaddrs.h inet/netinet/ip6.h \
		    inet/netinet/icmp6.h intl/libintl.h io/sys/stat.h \
		    io/sys/statfs.h io/sys/vfs.h io/sys/statvfs.h \
		    io/fcntl.h io/sys/fcntl.h io/poll.h io/sys/poll.h \
		    io/utime.h io/ftw.h io/fts.h io/sys/sendfile.h \
		    libio/stdio.h libio/libio.h locale/locale.h \
		    locale/langinfo.h locale/xlocale.h login/utmp.h \
		    login/lastlog.h login/pty.h malloc/malloc.h \
		    malloc/obstack.h malloc/mcheck.h math/math.h \
		    math/complex.h math/fenv.h math/tgmath.h misc/sys/uio.h \
		    $(wildcard nis/rpcsvc/*.h) nptl_db/thread_db.h \
		    sysdeps/nptl/pthread.h sysdeps/pthread/semaphore.h \
		    nss/nss.h posix/sys/utsname.h posix/sys/times.h \
		    posix/sys/wait.h posix/sys/types.h posix/unistd.h \
		    posix/glob.h posix/regex.h posix/wordexp.h posix/fnmatch.h\
		    posix/getopt.h posix/tar.h posix/sys/unistd.h \
		    posix/sched.h posix/re_comp.h posix/wait.h \
		    posix/cpio.h posix/spawn.h pwd/pwd.h resolv/resolv.h \
		    resolv/netdb.h $(wildcard resolv/arpa/*.h) \
		    resource/sys/resource.h resource/sys/vlimit.h \
		    resource/sys/vtimes.h resource/ulimit.h rt/aio.h \
		    rt/mqueue.h setjmp/setjmp.h shadow/shadow.h \
		    signal/signal.h signal/sys/signal.h socket/sys/socket.h \
		    socket/sys/un.h stdio-common/printf.h \
		    stdio-common/stdio_ext.h stdlib/stdlib.h stdlib/alloca.h \
		    stdlib/monetary.h stdlib/fmtmsg.h stdlib/ucontext.h \
		    sysdeps/generic/inttypes.h sysdeps/generic/stdint.h \
		    stdlib/errno.h stdlib/sys/errno.h string/string.h \
		    string/strings.h string/memory.h string/endian.h \
		    string/argz.h string/envz.h string/byteswap.h \
		    $(wildcard sunrpc/rpc/*.h sunrpc/rpcsvc/*.h) \
		    sysvipc/sys/ipc.h sysvipc/sys/msg.h sysvipc/sys/sem.h \
		    sysvipc/sys/shm.h termios/termios.h \
		    termios/sys/termios.h termios/sys/ttychars.h time/time.h \
		    time/sys/time.h time/sys/timeb.h wcsmbs/wchar.h \
		    wctype/wctype.h
		    
# æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„æµ‹è¯•ç›®æ ‡ï¼Œç”¨äºæ£€æŸ¥ç¼–è¯‘å™¨ç”Ÿæˆçš„å¼€å§‹å’Œç»“æŸç¬¦å·ã€‚
tests-special += $(objpfx)begin-end-check.out

# ä½¿ç”¨Perlè„šæœ¬æ£€æŸ¥å®‰è£…å¤´æ–‡ä»¶ä¸­çš„å¼€å§‹å’Œç»“æŸç¬¦å·ï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶ã€‚
$(objpfx)begin-end-check.out: scripts/begin-end-check.pl
	$(PERL) scripts/begin-end-check.pl $(installed-headers) &gt; $@; \ # æ‰§è¡ŒPerlè„šæœ¬å¹¶é‡å®šå‘è¾“å‡º
	$(evaluate-test) # è¯„ä¼°æµ‹è¯•ç»“æœ

# å®šä¹‰ä¸€ä¸ªå®ï¼Œç”¨äºæ€»ç»“æµ‹è¯•ç»“æœï¼Œæ’é™¤é€šè¿‡æˆ–é¢„æœŸå¤±è´¥çš„æµ‹è¯•ã€‚
define summarize-tests
@egrep -v &#x27;^(PASS|XFAIL):&#x27; $(objpfx)$1 || true # æ’é™¤é€šè¿‡æˆ–é¢„æœŸå¤±è´¥çš„æµ‹è¯•ä¿¡æ¯
@echo &quot;Summary of test results$2:&quot; # æ‰“å°æµ‹è¯•ç»“æœæ‘˜è¦
@sed &#x27;s/:.*//&#x27; &lt; $(objpfx)$1 | sort | uniq -c # ç»Ÿè®¡æ¯ç§æµ‹è¯•ç»“æœçš„æ•°é‡
@! egrep -q -v &#x27;^(X?PASS|XFAIL|UNSUPPORTED):&#x27; $(objpfx)$1 # ç¡®ä¿æ‰€æœ‰æµ‹è¯•éƒ½å·²è¢«å¤„ç†
endef

# è½¬æ¢ç‰¹æ®Šæµ‹è¯•çš„ç›®æ ‡è·¯å¾„ä¸ºå…¶ä¸åŒ…å«ç›®å½•éƒ¨åˆ†çš„åå­—ã€‚
tests-special-notdir = $(patsubst $(objpfx)%, %, $(tests-special))

# æ„å»ºæ‰€æœ‰ç‰¹æ®Šæµ‹è¯•ã€‚
tests: $(tests-special)
	$(..)scripts/merge-test-results.sh -s $(objpfx) &quot;&quot; \ # åˆå¹¶å­ç›®å½•ä¸‹çš„æµ‹è¯•ç»“æœ
	  $(sort $(tests-special-notdir:.out=)) \ # å¯¹æµ‹è¯•ç»“æœè¿›è¡Œæ’åº
	  &gt; $(objpfx)subdir-tests.sum
	$(..)scripts/merge-test-results.sh -t $(objpfx) subdir-tests.sum \ # åˆå¹¶æ‰€æœ‰æµ‹è¯•ç»“æœ
	  $(sort $(subdirs) .) \
	  &gt; $(objpfx)tests.sum
	$(call summarize-tests,tests.sum) # æ€»ç»“æµ‹è¯•ç»“æœ

# æ„å»ºé¢å¤–çš„æµ‹è¯•ã€‚
xtests:
	$(..)scripts/merge-test-results.sh -t $(objpfx) subdir-xtests.sum \ # åˆå¹¶é¢å¤–æµ‹è¯•çš„ç»“æœ
	  $(sort $(subdirs)) \
	  &gt; $(objpfx)xtests.sum
	$(call summarize-tests,xtests.sum, for extra tests) # æ€»ç»“é¢å¤–æµ‹è¯•çš„ç»“æœ

# realcleanç›®æ ‡ä¸distcleanç±»ä¼¼ï¼Œä½†å…è®¸å­ç›®å½•åŒºåˆ†å®ƒä»¬ä¹‹é—´çš„å·®å¼‚ã€‚
realclean distclean: parent-clean
# è¿™æ ·åšæ˜¯ä¸ºäº†ç¡®ä¿libc.aåœ¨å¤„ç†å­ç›®å½•ä¹‹å‰è¢«ç§»é™¤ï¼Œé˜²æ­¢å­ç›®å½•å°è¯•ä»å³å°†è¢«åˆ é™¤çš„libc.aä¸­ç§»é™¤å¯¹è±¡æ–‡ä»¶ã€‚
	@$(MAKE) distclean-1 no_deps=t distclean-1=$@ avoid-generated=yes \ # æ‰§è¡Œdistclean-1æ“ä½œ
		 sysdep-subdirs=&quot;$(sysdep-subdirs)&quot;
	-rm -f $(postclean) # ç§»é™¤æ¸…ç†åçš„æ–‡ä»¶

# distcleanå’Œrealcleançš„å­ä¾‹ç¨‹ã€‚
distclean-1: subdir_$(distclean-1)
	-rm -f $(config-generated) # ç§»é™¤ç”Ÿæˆçš„é…ç½®æ–‡ä»¶
	-rm -f $(addprefix $(objpfx),config.status config.cache config.log) # ç§»é™¤é…ç½®çŠ¶æ€ã€ç¼“å­˜å’Œæ—¥å¿—æ–‡ä»¶
	-rm -f $(addprefix $(objpfx),config.make config-name.h config.h) # ç§»é™¤å…¶ä»–é…ç½®ç›¸å…³æ–‡ä»¶
ifdef objdir
	-rm -f $(objpfx)Makefile # å¦‚æœå®šä¹‰äº†objdirï¼Œåˆ™ç§»é™¤Makefile
endif
	-rm -f $(sysdep-$(distclean-1)) # ç§»é™¤ç³»ç»Ÿä¾èµ–ç›¸å…³çš„æ–‡ä»¶

# ä¸ºEmacsç”¨æˆ·ç”ŸæˆTAGSæ–‡ä»¶ã€‚
.PHONY: TAGS
TAGS:
	scripts/list-sources.sh | sed -n -e &#x27;/Makefile/p&#x27; \ # åˆ—å‡ºæºæ–‡ä»¶
	  $(foreach S,[chsSyl] cxx sh bash pl,\ # åŒ…å«ç‰¹å®šåç¼€çš„æ–‡ä»¶
		    $(subst .,\.,-e &#x27;/.$S$.in$*$$/p&#x27;)) \ # æ›¿æ¢.ä¸ºè½¬ä¹‰å­—ç¬¦
	| $(ETAGS) -o $@ - # ç”ŸæˆTAGSæ–‡ä»¶

# åˆ›å»ºåˆ†å‘taræ–‡ä»¶ã€‚
.PHONY: dist dist-prepare

generated := $(generated) stubs.h # æ·»åŠ ç”Ÿæˆçš„stubs.håˆ°ç”Ÿæˆåˆ—è¡¨

files-for-dist := README INSTALL configure ChangeLog NEWS # éœ€è¦åŒ…å«åœ¨åˆ†å‘åŒ…ä¸­çš„æ–‡ä»¶

# å†ç”Ÿç›¸å…³å†…å®¹ï¼Œç„¶åæ£€æŸ¥è¿™äº›å†…å®¹æ˜¯å¦å·²ç»æäº¤ã€‚
dist-prepare: $(files-for-dist)
	conf=`find sysdeps $(addsuffix /sysdeps,$(sysdeps-add-ons)) \ # æŸ¥æ‰¾æ‰€æœ‰configureæ–‡ä»¶
		   -name configure`; \
	$(MAKE) $$conf &amp;&amp; \ # é‡æ–°ç”Ÿæˆconfigureæ–‡ä»¶
	git diff --stat HEAD -- $^ $$conf \ # æ£€æŸ¥æ˜¯å¦æœ‰æœªæäº¤çš„æ›´æ”¹
	| $(AWK) &#x27;{ print; rc=1 } END { exit rc }&#x27; # å¦‚æœæœ‰æ›´æ”¹åˆ™é€€å‡ºéé›¶

%.tar: FORCE
	git archive --prefix=$*/ $* &gt; $@.new # ä½¿ç”¨git archiveåˆ›å»ºæ–°çš„taræ–‡ä»¶
	mv -f $@.new $@ # é‡å‘½åæ–°æ–‡ä»¶

# ä¸ºæ—§ç‰ˆæœ¬åˆ¶ä½œtaræ–‡ä»¶ã€‚

ifneq (,$(strip $(dist-version)))
dist: $(foreach Z,.bz2 .gz .xz,$(dist-version).tar$Z) # æ ¹æ®ç‰ˆæœ¬å·åˆ›å»ºå‹ç¼©åŒ…
	md5sum $^ # è®¡ç®—æ ¡éªŒå’Œ
else
dist: dist-prepare
	@if v=`git describe`; then \ # è·å–å½“å‰ç‰ˆæœ¬æè¿°
	  echo Distribution version $$v; \ # æ‰“å°ç‰ˆæœ¬å·
	  $(MAKE) dist dist-version=$$v; \ # ä½¿ç”¨ç‰ˆæœ¬å·æ„å»ºåˆ†å‘åŒ…
	else \
	  false; \ # å¦‚æœæ— æ³•è·å–ç‰ˆæœ¬æè¿°ï¼Œåˆ™æŠ¥é”™
	fi
endif

# ç”ŸæˆINSTALLæ–‡ä»¶ã€‚
INSTALL: manual/install-plain.texi manual/macros.texi \ # ä¾èµ–äºå¤šä¸ªTeXæ–‡ä»¶
	 $(common-objpfx)manual/pkgvers.texi manual/install.texi
	makeinfo --no-validate --plaintext --no-number-sections \ # ä½¿ç”¨makeinfoè½¬æ¢ä¸ºçº¯æ–‡æœ¬æ ¼å¼
		 -I$(common-objpfx)manual $&lt; -o $@-tmp
	$(AWK) &#x27;NF == 0 { ++n; next } \ # å¤„ç†ç©ºç™½è¡Œ
		NF != 0 { while (n-- &gt; 0) print &quot;&quot;; n = 0; print }&#x27; \ # æ’å…¥é€‚å½“çš„ç©ºç™½è¡Œ
	  &lt; $@-tmp &gt; $@-tmp2
	rm -f $@-tmp # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
	-chmod a-w $@-tmp2 # ä¿®æ”¹æƒé™
	mv -f $@-tmp2 $@

$(common-objpfx)manual/%: FORCE
	$(MAKE) $(PARALLELMFLAGS) -C manual $@ # åœ¨manualç›®å½•ä¸‹æ„å»ºç›®æ ‡

FORCE: # å¼ºåˆ¶æ‰§è¡Œç›®æ ‡

iconvdata/% localedata/% po/%: FORCE
	$(MAKE) $(PARALLELMFLAGS) -C $(@D) $(@F) # åœ¨ç›¸åº”çš„ç›®å½•ä¸‹æ„å»ºç›®æ ‡</code></pre></details></li></ul><ul id="1890427e-38bb-8001-bf2b-d6ab01bc704b" class="toggle"><li><details open=""><summary>Makeconfigï¼š</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1890427e-38bb-80a0-880e-daa388b01bfe" class="code"><code class="language-Plain Text"># ç‰ˆæƒ (C) 1991-2016 è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼š, Inc.

#
#	è¿™æ˜¯GNU Cåº“çš„Makefileé…ç½®é€‰é¡¹ã€‚
#
ifneq (,)
è¿™ä¸ªmakefileéœ€è¦GNU Makeã€‚
endif

all: # å°†æ­¤ä½œä¸ºé»˜è®¤ç›®æ ‡

ifneq &quot;$(origin +included-Makeconfig)&quot; &quot;file&quot;

+included-Makeconfig := yes

ifdef subdir
.. := ../
endif

# $(common-objdir) æ˜¯æ”¾ç½®é‚£äº›ä¸å±äºå•ä¸ªå­ç›®å½•çš„å¯¹è±¡ç­‰çš„ä½ç½®ã€‚
ifdef objdir
# æ ¹æ®objdirå’Œsubdirå®šä¹‰ç¼–è¯‘å¯¹è±¡çš„å‰ç¼€è·¯å¾„
objpfx := $(patsubst %//,%/,$(objdir)/$(subdir)/)
common-objpfx = $(objdir)/
common-objdir = $(objdir)
else
å¿…é¡»åœ¨æ„å»ºç›®å½•çš„Makefileä¸­å®šä¹‰objdirã€‚
endif

# sysdepsæ ‘çš„æ ¹ç›®å½•ã€‚
sysdep_dir := $(..)sysdeps
export sysdep_dir := $(sysdep_dir)

# è·å–é€šè¿‡`configure&#x27;å‘½ä»¤è¡Œé€‰é¡¹å®šä¹‰çš„å€¼ã€‚
include $(common-objpfx)config.make

# å¯¹äºè°ƒç”¨ç”¨æˆ·æä¾›çš„å›è°ƒå‡½æ•°çš„æºä»£ç åº”ç»™å‡ºçš„æ ‡å¿—ã€‚
uses-callbacks = -fexceptions

# ç»™äºˆæµ‹è¯•å †æ ˆå¯¹é½çš„æµ‹è¯•çš„æ ‡å¿—ã€‚
stack-align-test-flags =

# å®Œæ•´è·¯å¾„åˆ°sysdepsç›®å½•ã€‚
# `configure&#x27;åœ¨`config.make&#x27;ä¸­å†™å…¥`config-sysdirs&#x27;çš„å®šä¹‰ã€‚
sysdirs := $(foreach D,$(config-sysdirs),$(firstword $(filter /%,$D) $(..)$D))

# æ·»åŠ è´¡çŒ®sysdepsæ ‘çš„æ’ä»¶åˆ°åŒ…å«åˆ—è¡¨ä¸­ï¼Œåœ¨sysdeps/genericä¹‹åã€‚
# è¿™ä½¿å¾—#include &lt;sysdeps/...&gt;èƒ½å¤Ÿæ­£ç¡®æ‰¾åˆ°ç‰¹å®šæ’ä»¶æ–‡ä»¶è€Œä¸å¿…å‡è®¾æ’ä»¶ç›®å½•åã€‚
sysdeps-srcdirs := $(foreach add-on,$(sysdeps-add-ons),\
			     $(firstword $(filter /%,$(add-on)) \
					 $(..)$(add-on)))
+sysdep_dirs = $(sysdirs) $(sysdeps-srcdirs)
ifdef objdir
+sysdep_dirs := $(objdir) $(+sysdep_dirs)
endif

# è¿è¡Œconfig.statusä»¥æ›´æ–°config.makeå’Œconfig.hã€‚æˆ‘ä»¬ä¸ä¼šå‘Makeæ˜¾ç¤ºconfig.hçš„ä¾èµ–å…³ç³»ï¼Œ
# å› ä¸ºå®ƒä»…åœ¨æ›´æ”¹æ—¶æ‰è¢«è§¦æ‘¸ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½ä¼šè¿è¡Œconfig.statusï¼›config.makeçš„ä¾èµ–åº”è¯¥è¶³ä»¥å¼ºåˆ¶é‡æ–°ç”Ÿæˆå’Œé‡æ–°æ‰§è¡Œï¼Œ
# æ–°çš„æ˜ åƒä¼šæ³¨æ„åˆ°å¦‚æœconfig.hå‘ç”Ÿäº†å˜åŒ–ã€‚
$(common-objpfx)config.make: $(common-objpfx)config.status \
			     $(..)config.make.in $(..)config.h.in
	cd $(&lt;D); $(SHELL) $(&lt;F)

# æŸ¥æ‰¾æ‰€æœ‰æ’ä»¶å’Œsysdepsé…ç½®ç‰‡æ®µï¼Œç¡®ä¿åœ¨å…¶ä¸­ä»»ä½•ä¸€ä¸ªå‘ç”Ÿæ›´æ”¹æ—¶é‡æ–°è¿è¡Œconfigureã€‚
$(common-objpfx)config.status: $(..)version.h $(..)configure \
			       $(foreach dir,$(sysdirs),\
					 $(wildcard $(dir)/Implies) \
					 $(patsubst %.ac,%,\
						    $(firstword $(wildcard \
 $(addprefix $(dir)/,configure configure.ac))))) \
			       $(patsubst %.ac,%,\
 $(wildcard $(..)sysdeps/*/preconfigure $(..)sysdeps/*/preconfigure.ac)) \
			       $(patsubst %.ac,%,\
					  $(foreach add-on,$(add-ons),\
						    $(firstword $(wildcard \
 $(addprefix $(firstword $(filter /%,$(add-on)) $(..)$(add-on))/,\
	     configure configure.ac))) \
 $(wildcard $(addprefix $(firstword $(filter /%,$(add-on)) $(..)$(add-on))/,\
			sysdeps/*/preconfigure sysdeps/*/preconfigure.ac))))
	@cd $(@D); if test -f $(@F); then exec $(SHELL) $(@F) --recheck; else \
	 echo The GNU C library has not been configured. &gt;&amp;2; \
	 echo Run \`configure\&#x27; to configure it before building. &gt;&amp;2; \
	 echo Try \`configure --help\&#x27; for more details. &gt;&amp;2; \
	 exit 1; fi

# æˆ‘ä»¬ä¸å¸Œæœ›å°†CPPFLAGSå¯¼å‡ºåˆ°è¿è¡Œconfigureçš„å‘½ä»¤ä¸­ã€‚
unexport CPPFLAGS

# è·å–ç”¨æˆ·çš„é…ç½®å‚æ•°ã€‚
ifneq ($(wildcard $(..)configparms),)
include $(..)configparms
endif
ifneq ($(objpfx),)
ifneq ($(wildcard $(common-objpfx)configparms),)
include $(common-objpfx)configparms
endif
endif

# ç”¨äºä¸æœºå™¨æ— å…³çš„å®‰è£…ç›®å½•çš„å…¬å…±å‰ç¼€ã€‚
ifeq ($(origin prefix),undefined) # ifndef ä¼šè¦†ç›–æ˜¾å¼çš„ç©ºå€¼ã€‚
prefix = /usr/local  # å¦‚æœæœªå®šä¹‰prefixï¼Œåˆ™é»˜è®¤è®¾ç½®ä¸º/usr/localä½œä¸ºå®‰è£…æ ¹ç›®å½•ã€‚
endif

# å†³å®šæˆ‘ä»¬æ˜¯å¦åº”å½“æ„å»ºç¨‹åºã€‚é™¤éç”¨æˆ·åœ¨configparmsä¸­æ˜ç¡®å‘Šè¯‰æˆ‘ä»¬ä¸è¦è¿™æ ·åšï¼Œæˆ–è€…æˆ‘ä»¬æ­£åœ¨ä¸ºç›®æ ‡æ„å»ºç‹¬ç«‹ç‰ˆæœ¬ï¼Œå¦åˆ™æˆ‘ä»¬æ€»æ˜¯è¿™æ ·åšã€‚
ifndef build-programs
ifneq ($(config-os),none)  # å¦‚æœæ“ä½œç³»ç»Ÿé…ç½®ä¸æ˜¯&#x27;none&#x27;
build-programs=yes  # è®¾ç½®build-programsä¸ºyesï¼Œè¡¨ç¤ºéœ€è¦æ„å»ºç¨‹åºã€‚
else
build-programs=no  # å¦åˆ™ï¼Œè®¾ç½®ä¸ºnoï¼Œè¡¨ç¤ºä¸éœ€è¦æ„å»ºç¨‹åºã€‚
endif
endif

# ç”¨äºä¸æœºå™¨ç›¸å…³çš„å®‰è£…ç›®å½•çš„å…¬å…±å‰ç¼€ã€‚
ifeq ($(origin exec_prefix),undefined)
exec_prefix = $(prefix)  # å¦‚æœæœªå®šä¹‰exec_prefixï¼Œåˆ™é»˜è®¤ä½¿ç”¨prefixçš„å€¼ã€‚
endif

# å®‰è£…åº“å’Œå¯¹è±¡æ–‡ä»¶çš„ä½ç½®ã€‚
ifndef libdir
libdir = $(exec_prefix)/lib  # å¦‚æœæœªå®šä¹‰libdirï¼Œé»˜è®¤å°†å…¶è®¾ç½®ä¸º$(exec_prefix)/libã€‚
endif
inst_libdir = $(install_root)$(libdir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# å®‰è£…å…±äº«åº“çš„ä½ç½®ã€‚
ifndef slibdir
slibdir = $(exec_prefix)/lib  # å¦‚æœæœªå®šä¹‰slibdirï¼Œé»˜è®¤è®¾ç½®ä¸º$(exec_prefix)/libã€‚
endif
inst_slibdir = $(install_root)$(slibdir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# åŠ¨æ€é“¾æ¥å™¨çš„å®‰è£…ä½ç½®ã€‚
ifndef rtlddir
rtlddir = $(slibdir)  # å¦‚æœæœªå®šä¹‰rtlddirï¼Œé»˜è®¤ä½¿ç”¨slibdirçš„å€¼ã€‚
endif
inst_rtlddir = $(install_root)$(rtlddir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# åœ¨$(libdir)ä¸­å®‰è£…æ–‡ä»¶æ—¶è¦æ·»åŠ åˆ°æ–‡ä»¶åå‰çš„å‰ç¼€ã€‚å¯¹äºåº“`libNAME.a&#x27;ï¼Œè¯¥å‰ç¼€ä½äº`lib&#x27;å’Œåç§°ä¹‹é—´ï¼Œä»¥ä¾¿é“¾æ¥å™¨å¼€å…³`-l$(libprefix)NAME&#x27;èƒ½å¤Ÿæ‰¾åˆ°åº“ï¼›å¯¹äºå…¶ä»–æ–‡ä»¶ï¼Œå‰ç¼€ç›´æ¥åŠ åœ¨æ–‡ä»¶åä¹‹å‰ã€‚
ifeq ($(origin libprefix),undefined)
libprefix =  # å¦‚æœæœªå®šä¹‰libprefixï¼Œåˆ™é»˜è®¤ä¸ºç©ºã€‚
endif

# å¤´æ–‡ä»¶çš„å®‰è£…ä½ç½®ã€‚
ifndef includedir
includedir = $(prefix)/include  # å¦‚æœæœªå®šä¹‰includedirï¼Œé»˜è®¤è®¾ç½®ä¸º$(prefix)/includeã€‚
endif
inst_includedir = $(install_root)$(includedir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# ä¸æœºå™¨æ— å…³çš„æ•°æ®æ–‡ä»¶çš„å®‰è£…ä½ç½®ã€‚è¿™äº›åŒ…æ‹¬æ—¶åŒºæ•°æ®åº“å’ŒåŒºåŸŸè®¾ç½®æ•°æ®åº“ã€‚
ifndef datadir
datadir = $(prefix)/share  # å¦‚æœæœªå®šä¹‰datadirï¼Œé»˜è®¤è®¾ç½®ä¸º$(prefix)/shareã€‚
endif
inst_datadir = $(install_root)$(datadir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# æ—¶åŒºæ•°æ®æ–‡ä»¶ï¼ˆä¸æœºå™¨æ— å…³ï¼‰çš„å®‰è£…ä½ç½®ã€‚
ifndef zonedir
zonedir = $(datadir)/zoneinfo  # å¦‚æœæœªå®šä¹‰zonedirï¼Œé»˜è®¤è®¾ç½®ä¸º$(datadir)/zoneinfoã€‚
endif
inst_zonedir = $(install_root)$(zonedir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# å·²ç¼–è¯‘çš„äºŒè¿›åˆ¶åŒºåŸŸè®¾ç½®æ¡£æ¡ˆå’Œå·²ç¼–è¯‘çš„äºŒè¿›åˆ¶åŒºåŸŸè®¾ç½®æ–‡ä»¶çš„å®‰è£…ä½ç½®ã€‚
ifndef complocaledir
complocaledir = $(libdir)/locale  # å¦‚æœæœªå®šä¹‰complocaledirï¼Œé»˜è®¤è®¾ç½®ä¸º$(libdir)/localeã€‚
endif
inst_complocaledir = $(install_root)$(complocaledir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# æ¶ˆæ¯ç›®å½•æ•°æ®æ–‡ä»¶ï¼ˆä¸æœºå™¨æ— å…³ï¼‰çš„å®‰è£…ä½ç½®ã€‚
ifndef msgcatdir
msgcatdir = $(datadir)/locale  # å¦‚æœæœªå®šä¹‰msgcatdirï¼Œé»˜è®¤è®¾ç½®ä¸º$(datadir)/localeã€‚
endif
inst_msgcatdir = $(install_root)$(msgcatdir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# åŒºåŸŸå­—ç¬¦æ˜ å°„æºæ–‡ä»¶çš„å®‰è£…ä½ç½®ã€‚
ifndef i18ndir
i18ndir = $(datadir)/i18n  # å¦‚æœæœªå®šä¹‰i18ndirï¼Œé»˜è®¤è®¾ç½®ä¸º$(datadir)/i18nã€‚
endif
inst_i18ndir = $(install_root)$(i18ndir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# å­—ç¬¦é›†è½¬æ¢ç”¨å…±äº«å¯¹è±¡çš„å®‰è£…ä½ç½®ã€‚
ifndef gconvdir
gconvdir = $(libdir)/gconv  # å¦‚æœæœªå®šä¹‰gconvdirï¼Œé»˜è®¤è®¾ç½®ä¸º$(libdir)/gconvã€‚
endif
inst_gconvdir = $(install_root)$(gconvdir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# ç¨‹åºçš„å®‰è£…ä½ç½®ã€‚
ifndef bindir
bindir = $(exec_prefix)/bin  # å¦‚æœæœªå®šä¹‰bindirï¼Œé»˜è®¤è®¾ç½®ä¸º$(exec_prefix)/binã€‚
endif
inst_bindir = $(install_root)$(bindir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# å†…éƒ¨ç¨‹åºçš„å®‰è£…ä½ç½®ã€‚
ifndef libexecdir
libexecdir = $(exec_prefix)/libexec  # å¦‚æœæœªå®šä¹‰libexecdirï¼Œé»˜è®¤è®¾ç½®ä¸º$(exec_prefix)/libexecã€‚
endif
inst_libexecdir = $(install_root)$(libexecdir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# ç®¡ç†ç¨‹åºçš„å®‰è£…ä½ç½®ã€‚
ifndef rootsbindir
rootsbindir = $(exec_prefix)/sbin  # å¦‚æœæœªå®šä¹‰rootsbindirï¼Œé»˜è®¤è®¾ç½®ä¸º$(exec_prefix)/sbinã€‚
endif
inst_rootsbindir = $(install_root)$(rootsbindir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

ifndef sbindir
sbindir = $(exec_prefix)/sbin  # å¦‚æœæœªå®šä¹‰sbindirï¼Œé»˜è®¤è®¾ç½®ä¸º$(exec_prefix)/sbinã€‚
endif
inst_sbindir = $(install_root)$(sbindir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# Infoæ–‡ä»¶çš„å®‰è£…ä½ç½®ã€‚
ifndef infodir
infodir = $(prefix)/info  # å¦‚æœæœªå®šä¹‰infodirï¼Œé»˜è®¤è®¾ç½®ä¸º$(prefix)/infoã€‚
endif
inst_infodir = $(install_root)$(infodir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# å®¡è®¡åº“çš„å®‰è£…ä½ç½®ã€‚
ifndef auditdir
auditdir = $(libdir)/audit  # å¦‚æœæœªå®šä¹‰auditdirï¼Œé»˜è®¤è®¾ç½®ä¸º$(libdir)/auditã€‚
endif
inst_auditdir = $(install_root)$(auditdir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# é»˜è®¤é…ç½®æ–‡ä»¶çš„å®‰è£…ä½ç½®ã€‚è¿™äº›åŒ…æ‹¬æœ¬åœ°æ—¶åŒºè§„èŒƒå’Œç½‘ç»œæ•°æ®åº“æ–‡ä»¶ã€‚
ifndef sysconfdir
sysconfdir = $(prefix)/etc  # å¦‚æœæœªå®šä¹‰sysconfdirï¼Œé»˜è®¤è®¾ç½®ä¸º$(prefix)/etcã€‚
endif
inst_sysconfdir = $(install_root)$(sysconfdir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# nss_dbçš„æ•°æ®åº“æ–‡ä»¶å’ŒMakefileçš„ç›®å½•ã€‚
ifndef vardbdir
vardbdir = $(localstatedir)/db  # å¦‚æœæœªå®šä¹‰vardbdirï¼Œé»˜è®¤è®¾ç½®ä¸º$(localstatedir)/dbã€‚
endif
inst_vardbdir = $(install_root)$(vardbdir)  # å®‰è£…æ—¶ä½¿ç”¨çš„å®Œæ•´è·¯å¾„ã€‚

# &quot;localtime&quot;æ—¶åŒºæ–‡ä»¶çš„å®‰è£…ä½ç½®ï¼›è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ç”±$(localtime)æŒ‡å®šã€‚å¦‚æœè¿™æ˜¯ä¸€ä¸ªç›¸å¯¹è·¯å¾„åï¼Œå®ƒæ˜¯ç›¸å¯¹äº$(zonedir)çš„ã€‚æœ€å¥½å°†æ­¤æ–‡ä»¶æ”¾åœ¨å…¶ä»–åœ°æ–¹ï¼Œä»¥ä¾¿zoneinfoç›®å½•ä»…åŒ…å«é€šç”¨æ•°æ®ï¼Œå¹¶åœ¨å…¶ä»–åœ°æ–¹å®šä½é…ç½®æ•°æ®ã€‚
ifndef localtime-file
localtime-file = $(sysconfdir)/localtime  # å¦‚æœæœªå®šä¹‰localtime-fileï¼Œé»˜è®¤è®¾ç½®ä¸º$(sysconfdir)/localtimeã€‚
endif

# åœ¨ç¼–è¯‘é»˜è®¤æ—¶åŒºæ–‡ä»¶æ—¶ç”¨äºé—°ç§’è§„å®šçš„è®¾ç½®ã€‚å°†å…¶è®¾ç½®ä¸º`/dev/null&#x27;è¡¨ç¤ºä¸å¤„ç†é—°ç§’ï¼ˆç¬¦åˆ1003.1æ ‡å‡†ï¼‰ï¼Œæˆ–è€…è®¾ç½®ä¸º`leapseconds&#x27;ä»¥æ­£ç¡®å¤„ç†é—°ç§’ã€‚ä¸¤ç§åŒºåŸŸé£å‘³æ€»æ˜¯ä½œä¸º`posix/ZONE&#x27;å’Œ`right/ZONE&#x27;å¯ç”¨ã€‚è¯¥å˜é‡å†³å®šé»˜è®¤å€¼ï¼šå¦‚æœæ˜¯`/dev/null&#x27;ï¼Œåˆ™ZONE==posix/ZONEï¼›å¦‚æœæ˜¯`leapseconds&#x27;ï¼Œåˆ™ZONE==right/ZONEã€‚
ifndef leapseconds
leapseconds = /dev/null  # å¦‚æœæœªå®šä¹‰leapsecondsï¼Œé»˜è®¤è®¾ç½®ä¸º/dev/nullã€‚
endif

# å½“ä¸€ä¸ªPOSIXé£æ ¼çš„TZç¯å¢ƒå˜é‡æ²¡æœ‰æŒ‡å®šä»»ä½•è§„åˆ™æ—¶ï¼Œåº”è¯¥ä½¿ç”¨å“ªä¸ªæ—¶åŒºçš„DSTè§„åˆ™ã€‚ä¸ºäº†ç¬¦åˆ1003.1æ ‡å‡†ï¼Œæ­¤æ—¶åŒºå¿…é¡»ä½¿ç”¨ä¸ç¾å›½è”é‚¦æ³•å¾‹å®šä¹‰çš„DSTç›¸åŒçš„è§„åˆ™ã€‚è¿è¡Œ`make -C time echo-zonenames&#x27;æŸ¥çœ‹å¯ç”¨æ—¶åŒºåç§°åˆ—è¡¨ã€‚å¯ä»¥éšæ—¶ç”¨`zic -p TIMEZONE&#x27;æ›´æ”¹æ­¤è®¾ç½®ã€‚å¦‚æœä½ æƒ³è¦POSIX.1å…¼å®¹æ€§ï¼Œè¯·ä½¿ç”¨`America/New_York&#x27;ã€‚
ifndef posixrules
posixrules = America/New_York  # å¦‚æœæœªå®šä¹‰posixrulesï¼Œé»˜è®¤è®¾ç½®ä¸ºAmerica/New_Yorkã€‚
endif

# &quot;posixrules&quot;æ—¶åŒºæ–‡ä»¶çš„å®‰è£…ä½ç½®ï¼›è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ç”±$(posixrules)æŒ‡å®šã€‚å¦‚æœè¿™æ˜¯ä¸€ä¸ªç›¸å¯¹è·¯å¾„åï¼Œå®ƒæ˜¯ç›¸å¯¹äº$(zonedir)çš„ã€‚
ifndef posixrules-file
posixrules-file = posixrules  # å¦‚æœæœªå®šä¹‰posixrules-fileï¼Œé»˜è®¤è®¾ç½®ä¸ºposixrulesã€‚
endif

# æ‚¨ç³»ç»Ÿæœ¬æœºå¤´æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚è¿™åœ¨Unixç³»ç»Ÿä¸Šç”¨äºç”Ÿæˆä¸€äº›GNU libcå¤´æ–‡ä»¶ã€‚
ifndef sysincludedir
sysincludedir = /usr/include  # å¦‚æœæœªå®šä¹‰sysincludedirï¼Œé»˜è®¤è®¾ç½®ä¸º/usr/includeã€‚
endif

# å®‰è£…æ–‡ä»¶æ—¶ä½¿ç”¨çš„å‘½ä»¤ã€‚
ifndef INSTALL_DATA
INSTALL_DATA = $(INSTALL) -m 644  # å¦‚æœæœªå®šä¹‰INSTALL_DATAï¼Œé»˜è®¤è®¾ç½®ä¸ºä½¿ç”¨$(INSTALL)å¹¶èµ‹äºˆ644æƒé™å®‰è£…æ•°æ®æ–‡ä»¶ã€‚
endif
ifndef INSTALL_SCRIPT
INSTALL_SCRIPT = $(INSTALL)  # å¦‚æœæœªå®šä¹‰INSTALL_SCRIPTï¼Œé»˜è®¤ä½¿ç”¨$(INSTALL)å®‰è£…è„šæœ¬æ–‡ä»¶ã€‚
endif
ifndef INSTALL_PROGRAM
INSTALL_PROGRAM = $(INSTALL)  # å¦‚æœæœªå®šä¹‰INSTALL_PROGRAMï¼Œé»˜è®¤ä½¿ç”¨$(INSTALL)å®‰è£…ç¨‹åºã€‚
endif
ifndef INSTALL
INSTALL = install  # å¦‚æœæœªå®šä¹‰INSTALLï¼Œé»˜è®¤è®¾ç½®ä¸ºinstallå‘½ä»¤ã€‚
endif

# Cç¼–è¯‘å™¨çš„åå­—ã€‚å¦‚æœä½ æœ‰GCCå¹¶ä¸”å®ƒå·¥ä½œæ­£å¸¸ï¼Œå°±ä½¿ç”¨å®ƒã€‚
ifeq ($(origin CC),default)
CC := gcc  # å¦‚æœCCæ˜¯é»˜è®¤å€¼ï¼Œåˆ™è®¾ç½®ä¸ºgccã€‚
endif

# åœ¨æ„å»ºåº“çš„ä¸»æœºä¸Šè¿è¡Œçš„ç¨‹åºç¼–è¯‘æ—¶è¦ä½¿ç”¨çš„Cç¼–è¯‘å™¨çš„åå­—ã€‚å¦‚æœä½ å°†CCè®¾ç½®ä¸ºäº¤å‰ç¼–è¯‘å™¨ï¼Œåˆ™å¿…é¡»å°†æ­¤è®¾ç½®ä¸ºæ™®é€šçš„ç¼–è¯‘å™¨ã€‚
ifndef BUILD_CC
BUILD_CC = $(CC)  # å¦‚æœæœªå®šä¹‰BUILD_CCï¼Œé»˜è®¤ä½¿ç”¨CCçš„å€¼ã€‚
endif

# ä¼ é€’ç»™Cç¼–è¯‘å™¨çš„é»˜è®¤æ ‡å¿—ã€‚
ifndef default_cflags
ifeq ($(release),stable)
default_cflags := -g -O2  # å¦‚æœreleaseè¢«è®¾ç½®ä¸ºstableï¼Œä½¿ç”¨-gå’Œ-O2ä¼˜åŒ–çº§åˆ«ã€‚
else
default_cflags := -g -O  # å¦åˆ™ï¼Œä½¿ç”¨-gå’Œ-Oä¼˜åŒ–çº§åˆ«ã€‚
endif
endif

# ä¼ é€’ç»™Cç¼–è¯‘å™¨ä»¥æ±‡ç¼–é¢„å¤„ç†åçš„æ±‡ç¼–ä»£ç ï¼ˆ`.S&#x27;æ–‡ä»¶ï¼‰çš„æ ‡å¿—ã€‚
ifndef asm-CPPFLAGS
asm-CPPFLAGS =  # å¦‚æœæœªå®šä¹‰asm-CPPFLAGSï¼Œé»˜è®¤ä¸ºç©ºã€‚
endif

as-needed := -Wl,--as-needed  # é“¾æ¥å™¨é€‰é¡¹ï¼Œä»…å½“éœ€è¦æ—¶é“¾æ¥åº“ã€‚
no-as-needed := -Wl,--no-as-needed  # å–æ¶ˆas-neededé€‰é¡¹ã€‚

no-whole-archive = -Wl,--no-whole-archive  # é“¾æ¥å™¨é€‰é¡¹ï¼Œå–æ¶ˆæ•´ä¸ªå½’æ¡£æ–‡ä»¶é“¾æ¥ã€‚
whole-archive = -Wl,--whole-archive  # å¼ºåˆ¶é“¾æ¥æ•´ä¸ªå½’æ¡£æ–‡ä»¶ã€‚

# å·²å®‰è£…çš„å¯åŠ¨ä»£ç åç§°ã€‚
# ELFæƒ¯ä¾‹è§„å®šå¯åŠ¨æ–‡ä»¶åä¸ºcrt1.oã€‚
start-installed-name = crt1.o
# å¯¹äºä¸éœ€è¦ç‰¹æ®Šå¯åŠ¨æ–‡ä»¶è¿›è¡Œé™æ€é“¾æ¥çš„ç³»ç»Ÿï¼Œç®€å•åœ°å°†å…¶è®¾ç½®ä¸ºå¸¸è§„åç§°ã€‚
ifndef static-start-installed-name
static-start-installed-name = $(start-installed-name)  # å¦‚æœæœªå®šä¹‰static-start-installed-nameï¼Œé»˜è®¤ä½¿ç”¨start-installed-nameçš„å€¼ã€‚
endif

ifeq (yesyes,$(build-shared)$(have-z-combreloc))
combreloc-LDFLAGS = -Wl,-z,combreloc  # å¦‚æœæ”¯æŒbuild-sharedå’Œhave-z-combrelocï¼Œåˆ™æ·»åŠ ç»„åˆé‡å®šä½æ ‡å¿—ã€‚
LDFLAGS.so += $(combreloc-LDFLAGS)  # æ·»åŠ åˆ°å…±äº«å¯¹è±¡çš„é“¾æ¥æ ‡å¿—ä¸­ã€‚
LDFLAGS-rtld += $(combreloc-LDFLAGS)  # æ·»åŠ åˆ°è¿è¡Œæ—¶é“¾æ¥å™¨çš„é“¾æ¥æ ‡å¿—ä¸­ã€‚
endif

relro-LDFLAGS = -Wl,-z,relro  # è®¾ç½®åªè¯»é‡å®šä½æ ‡å¿—ã€‚
LDFLAGS.so += $(relro-LDFLAGS)  # æ·»åŠ åˆ°å…±äº«å¯¹è±¡çš„é“¾æ¥æ ‡å¿—ä¸­ã€‚
LDFLAGS-rtld += $(relro-LDFLAGS)  # æ·»åŠ åˆ°è¿è¡Œæ—¶é“¾æ¥å™¨çš„é“¾æ¥æ ‡å¿—ä¸­ã€‚

ifeq (yes,$(have-hash-style))
hashstyle-LDFLAGS = -Wl,--hash-style=both  # ä½¿ç”¨ä¸¤ç§å“ˆå¸Œè¡¨é£æ ¼ã€‚
LDFLAGS.so += $(hashstyle-LDFLAGS)  # æ·»åŠ åˆ°å…±äº«å¯¹è±¡çš„é“¾æ¥æ ‡å¿—ä¸­ã€‚
LDFLAGS-rtld += $(hashstyle-LDFLAGS)  # æ·»åŠ åˆ°è¿è¡Œæ—¶é“¾æ¥å™¨çš„é“¾æ¥æ ‡å¿—ä¸­ã€‚
endif

# æ¯æ¬¡æœ€ç»ˆé“¾æ¥ï¼ˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–å…±äº«å¯¹è±¡ï¼‰åè¿è¡Œçš„å‘½ä»¤ã€‚é€šè¿‡$(call after-link,...)è°ƒç”¨ï¼Œæ‰€ä»¥åº”æ“ä½œæ–‡ä»¶$1ã€‚å¯ä»¥è®¾ç½®ä¸ºå¯¹äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡ŒæŸç§å½¢å¼çš„åå¤„ç†ï¼Œæˆ–æ‰§è¡ŒæŸç§é™æ€å¥å…¨æ€§æ£€æŸ¥ã€‚
ifndef after-link
after-link =  # å¦‚æœæœªå®šä¹‰after-linkï¼Œé»˜è®¤ä¸ºç©ºã€‚
endif

# ç”¨äºé“¾æ¥ä½ç½®æ— å…³å¯æ‰§è¡Œç¨‹åº(PIE)ä¸Cåº“çš„å‘½ä»¤ã€‚
ifndef +link-pie
+link-pie-before-libc = $(CC) -pie -Wl,-O1 -nostdlib -nostartfiles -o $@ \
	     $(sysdep-LDFLAGS) $(LDFLAGS) $(LDFLAGS-$(@F)) \  # ä½¿ç”¨æŒ‡å®šçš„ç¼–è¯‘å™¨é€‰é¡¹å’Œæ ‡å¿—æ¥ç”Ÿæˆè¾“å‡ºæ–‡ä»¶$@
	     $(combreloc-LDFLAGS) $(relro-LDFLAGS) $(hashstyle-LDFLAGS) \  # æ·»åŠ ç‰¹å®šçš„é“¾æ¥é€‰é¡¹
	     $(addprefix $(csu-objpfx),S$(start-installed-name)) \  # æŒ‡å®šå¯åŠ¨æ–‡ä»¶
	     $(+preinit) $(+prectorS) \  # é¢„åˆå§‹åŒ–å’Œé¢„æ„é€ å‡½æ•°
	     $(filter-out $(addprefix $(csu-objpfx),start.o S$(start-installed-name))\  # æ’é™¤ç‰¹å®šçš„å¯¹è±¡æ–‡ä»¶
			  $(+preinit) $(link-extra-libs) \  # æ’é™¤é¢å¤–çš„åº“
			  $(common-objpfx)libc% $(+postinit),$^) \  # æ’é™¤æ ‡å‡†åº“å’Œå…¶ä»–ååˆå§‹åŒ–å†…å®¹
	     $(link-extra-libs)
+link-pie-after-libc = $(+postctorS) $(+postinit)  # åæ„é€ å‡½æ•°å’Œååˆå§‹åŒ–
define +link-pie
$(+link-pie-before-libc) $(rtld-LDFLAGS) $(link-libc) $(+link-pie-after-libc)  # å®šä¹‰é“¾æ¥PIEç¨‹åºçš„å®Œæ•´å‘½ä»¤
$(call after-link,$@)  # è°ƒç”¨after-linkå®ï¼Œå¤„ç†æœ€ç»ˆé“¾æ¥åçš„æ“ä½œ
endef
define +link-pie-tests
$(+link-pie-before-libc) $(rtld-tests-LDFLAGS) $(link-libc-tests) \  # å®šä¹‰é“¾æ¥æµ‹è¯•ç¨‹åºçš„å®Œæ•´å‘½ä»¤
			 $(+link-pie-after-libc)
$(call after-link,$@)  # å¤„ç†æµ‹è¯•ç¨‹åºé“¾æ¥åçš„æ“ä½œ
endef
endif

# ç”¨äºé™æ€é“¾æ¥ç¨‹åºä¸Cåº“çš„å‘½ä»¤ã€‚
ifndef +link-static
+link-static-before-libc = $(CC) -nostdlib -nostartfiles -static -o $@ \  # ä½¿ç”¨é™æ€é“¾æ¥é€‰é¡¹
	      $(sysdep-LDFLAGS) $(LDFLAGS) $(LDFLAGS-$(@F))  \  # æ·»åŠ ç³»ç»Ÿä¾èµ–çš„é“¾æ¥æ ‡å¿—
	      $(addprefix $(csu-objpfx),$(static-start-installed-name)) \  # æŒ‡å®šé™æ€å¯åŠ¨æ–‡ä»¶
	      $(+preinit) $(+prectorT) \  # é¢„åˆå§‹åŒ–å’Œé¢„æ„é€ å‡½æ•°
	      $(filter-out $(addprefix $(csu-objpfx),start.o $(start-installed-name))\  # æ’é™¤ç‰¹å®šå¯¹è±¡æ–‡ä»¶
			   $(+preinit) $(link-extra-libs-static) \  # æ’é™¤é¢å¤–çš„é™æ€åº“
			   $(common-objpfx)libc% $(+postinit),$^) \  # æ’é™¤æ ‡å‡†åº“å’Œå…¶ä»–ååˆå§‹åŒ–å†…å®¹
	      $(link-extra-libs-static)
+link-static-after-libc = $(+postctorT) $(+postinit)  # åæ„é€ å‡½æ•°å’Œååˆå§‹åŒ–
define +link-static
$(+link-static-before-libc) $(link-libc-static) $(+link-static-after-libc)  # å®šä¹‰é™æ€é“¾æ¥ç¨‹åºçš„å®Œæ•´å‘½ä»¤
$(call after-link,$@)  # å¤„ç†é™æ€é“¾æ¥åçš„æ“ä½œ
endef
define +link-static-tests
$(+link-static-before-libc) $(link-libc-static-tests) $(+link-static-after-libc)  # å®šä¹‰é™æ€é“¾æ¥æµ‹è¯•ç¨‹åºçš„å‘½ä»¤
$(call after-link,$@)  # å¤„ç†é™æ€é“¾æ¥æµ‹è¯•ç¨‹åºåçš„æ“ä½œ
endef
endif

# ç”¨äºé“¾æ¥ç¨‹åºä¸Cåº“çš„å‘½ä»¤ã€‚
ifndef +link
ifeq (yes,$(build-shared))
ifeq (yes,$(build-pie-default))
no-pie-ldflag = -no-pie
+link = $(+link-pie)  # å¦‚æœé»˜è®¤æ„å»ºPIEï¼Œåˆ™ä½¿ç”¨PIEé“¾æ¥å‘½ä»¤
+link-tests = $(+link-pie-tests)  # ä½¿ç”¨PIEæµ‹è¯•é“¾æ¥å‘½ä»¤
else
+link-before-libc = $(CC) -nostdlib -nostartfiles -o $@ \  # æ ‡å‡†å…±äº«åº“é“¾æ¥é€‰é¡¹
	      $(sysdep-LDFLAGS) $(LDFLAGS) $(LDFLAGS-$(@F)) \
	      $(combreloc-LDFLAGS) $(relro-LDFLAGS) $(hashstyle-LDFLAGS) \
	      $(addprefix $(csu-objpfx),$(start-installed-name)) \
	      $(+preinit) $(+prector) \
	      $(filter-out $(addprefix $(csu-objpfx),start.o $(start-installed-name))\
			   $(+preinit) $(link-extra-libs) \
			   $(common-objpfx)libc% $(+postinit),$^) \
	      $(link-extra-libs)
+link-after-libc = $(+postctor) $(+postinit)
define +link
$(+link-before-libc) $(rtld-LDFLAGS) $(link-libc) $(+link-after-libc)  # å®šä¹‰å…±äº«åº“é“¾æ¥å‘½ä»¤
$(call after-link,$@)  # å¤„ç†é“¾æ¥åçš„æ“ä½œ
endef
define +link-tests
$(+link-before-libc) $(rtld-tests-LDFLAGS) $(link-libc-tests) \  # å®šä¹‰å…±äº«åº“æµ‹è¯•é“¾æ¥å‘½ä»¤
		     $(+link-after-libc)
$(call after-link,$@)  # å¤„ç†æµ‹è¯•é“¾æ¥åçš„æ“ä½œ
endef
endif
else
+link = $(+link-static)  # å¦‚æœä¸æ„å»ºå…±äº«åº“ï¼Œåˆ™ä½¿ç”¨é™æ€é“¾æ¥å‘½ä»¤
+link-tests = $(+link-static-tests)  # ä½¿ç”¨é™æ€æµ‹è¯•é“¾æ¥å‘½ä»¤
endif
endif

ifeq (yes,$(build-shared))
ifndef rtld-LDFLAGS
rtld-LDFLAGS = -Wl,-dynamic-linker=$(rtlddir)/$(rtld-installed-name)  # è®¾ç½®åŠ¨æ€é“¾æ¥å™¨è·¯å¾„
endif
ifndef rtld-tests-LDFLAGS
ifeq (yes,$(build-hardcoded-path-in-tests))
rtld-tests-LDFLAGS = -Wl,-dynamic-linker=$(elf-objpfx)ld.so  # æµ‹è¯•æ—¶ç¡¬ç¼–ç åŠ¨æ€é“¾æ¥å™¨è·¯å¾„
else
rtld-tests-LDFLAGS = $(rtld-LDFLAGS)  # ä½¿ç”¨å¸¸è§„åŠ¨æ€é“¾æ¥å™¨è·¯å¾„
endif
endif
endif

ifndef link-libc
ifeq (yes,$(build-shared))
# æˆ‘ä»¬éœ€è¦libc.soçš„ç‰ˆæœ¬åŒ–åç§°ä½œä¸º$(others)ç­‰çš„ä¾èµ–é¡¹ï¼Œä»¥ä¾¿åœ¨ä»»ä½•å°è¯•è¿è¡Œé“¾æ¥ç¨‹åºä¹‹å‰åˆ›å»ºåˆ°libc.soçš„ç¬¦å·é“¾æ¥ã€‚
link-libc-rpath-link = -Wl,-rpath-link=$(rpath-link)  # è®¾ç½®rpath-linkä»¥æŒ‡å‘æ­£ç¡®çš„åº“è·¯å¾„
ifeq (yes,$(build-hardcoded-path-in-tests))
link-libc-tests-rpath-link = -Wl,-rpath=$(rpath-link)  # å¯¹äºæµ‹è¯•ï¼Œè®¾ç½®rpathç›´æ¥æŒ‡å‘åº“è·¯å¾„
else
link-libc-tests-rpath-link = $(link-libc-rpath-link)  # ä½¿ç”¨å¸¸è§„rpath-linkè®¾ç½®
endif

# å®šä¹‰äº†åœ¨é“¾æ¥æ—¶å¦‚ä½•å¤„ç†libcåº“å’Œå…¶ä»–ç›¸å…³åº“çš„è§„åˆ™

# link-libc-before-gnulib å˜é‡å®šä¹‰äº†åœ¨é“¾æ¥è¿‡ç¨‹ä¸­ï¼Œä½äºgnulibä¹‹å‰çš„åº“åˆ—è¡¨ã€‚
# è¿™åŒ…æ‹¬äº†libc.soçš„ç‰ˆæœ¬ä¿¡æ¯ã€ç‰¹å®šç±»å‹çš„åº“æ–‡ä»¶ï¼ˆä¾‹å¦‚cåº“ï¼‰ï¼Œä»¥åŠld.soé“¾æ¥å™¨å’Œç›¸å…³çš„as-neededæ ‡è®°ã€‚
link-libc-before-gnulib = $(common-objpfx)libc.so$(libc.so-version) \
			  $(common-objpfx)$(patsubst %,$(libtype.oS),c) \
			  $(as-needed) $(elf-objpfx)ld.so \
			  $(no-as-needed)

# link-libc ç”¨äºå®šä¹‰æ ‡å‡†çš„libcåº“é“¾æ¥æ–¹å¼ï¼ŒåŒ…æ‹¬rpath-linké€‰é¡¹ã€ä¹‹å‰å®šä¹‰çš„link-libc-before-gnulibå˜é‡å†…å®¹å’Œgnulibã€‚
link-libc = $(link-libc-rpath-link) $(link-libc-before-gnulib) $(gnulib)

# link-libc-tests ç±»ä¼¼äºlink-libcï¼Œä½†æ˜¯ä¸“é—¨ç”¨äºæµ‹è¯•ç¨‹åºçš„é“¾æ¥ï¼ŒåŒ…å«äº†ä¸æµ‹è¯•ç›¸å…³çš„gnulib-testsåº“ã€‚
link-libc-tests = $(link-libc-tests-rpath-link) \
		  $(link-libc-before-gnulib) $(gnulib-tests)

# rpath-dirs åˆ—å‡ºäº†æ„å»ºæ—¶éœ€è¦è€ƒè™‘çš„ç›®å½•ï¼Œä¸»è¦ç”¨äºåŠ¨æ€é“¾æ¥å™¨æŸ¥æ‰¾åº“çš„ä½ç½®ã€‚
rpath-dirs = math elf dlfcn nss nis rt resolv crypt mathvec

# rpath-link å®šä¹‰äº†è¿è¡Œæ—¶åº“æœç´¢è·¯å¾„ï¼Œä½¿ç”¨äº†common-objdirå’Œrpath-dirsä¸­çš„å€¼ã€‚
rpath-link = \
$(common-objdir):$(subst $(empty) ,:,$(patsubst ../$(subdir),.,$(rpath-dirs:%=$(common-objpfx)%)))

# æ ¹æ®æ¡ä»¶ç¼–è¯‘ä¸åŒçš„link-libcå’Œlink-libc-testså®šä¹‰ã€‚
else
link-libc = $(common-objpfx)libc.a $(otherlibs) $(gnulib) $(common-objpfx)libc.a $(gnulib)
link-libc-tests = $(common-objpfx)libc.a $(otherlibs) $(gnulib-tests) $(common-objpfx)libc.a $(gnulib-tests)
endif
endif

# å®šä¹‰äº†ä¸€äº›LDFLAGSæ ‡å¿—ï¼Œç”¨äºæŒ‡å®šä¸åŒçš„é“¾æ¥å™¨é€‰é¡¹ã€‚
LDFLAGS-rpath-ORIGIN = -Wl,-rpath,&#x27;$$ORIGIN&#x27;
LDFLAGS-soname-fname = -Wl,-soname,$(@F)
LDFLAGS-rdynamic = -rdynamic
LDFLAGS-Bsymbolic = -Bsymbolic

# æ ¹æ®å®‰è£…ç›®å½•çš„ä¸åŒè®¾ç½®é»˜è®¤çš„rpathã€‚
ifneq ($(libdir),$(slibdir))
default-rpath = $(slibdir):$(libdir)
else
default-rpath = $(libdir)
endif

# å¦‚æœæœªå®šä¹‰link-extra-libsï¼Œåˆ™æ ¹æ®ç›®æ ‡æ–‡ä»¶åæ¥è®¾ç½®é¢å¤–çš„é“¾æ¥åº“ã€‚
ifndef link-extra-libs
link-extra-libs = $(LDLIBS-$(@F))
link-extra-libs-static = $(link-extra-libs)
endif

# å®šä¹‰äº†é™æ€é“¾æ¥libcåº“çš„æ–¹å¼ï¼Œä½¿ç”¨-Wl,--start-groupå’Œ-Wl,--end-groupç¡®ä¿æ­£ç¡®å¤„ç†å¾ªç¯ä¾èµ–ã€‚
link-libc-static = -Wl,--start-group $(common-objpfx)libc.a $(static-gnulib) -Wl,--end-group
link-libc-static-tests = -Wl,--start-group $(common-objpfx)libc.a $(static-gnulib-tests) -Wl,--end-group

# æè¿°äº†å¦‚ä½•é“¾æ¥libgccï¼Œè§£é‡Šäº†ä¸åŒæƒ…å†µä¸‹é€‰æ‹©libgccæˆ–libgcc_ehçš„åŸå› ã€‚
...

# å®šä¹‰äº†ç¼–è¯‘å’Œé“¾æ¥è¿‡ç¨‹ä¸­çš„é¢„åˆå§‹åŒ–å’Œååˆå§‹åŒ–å¯¹è±¡æ–‡ä»¶ã€‚
+preinit = $(addprefix $(csu-objpfx),crti.o)
+postinit = $(addprefix $(csu-objpfx),crtn.o)
+prector = `$(CC) $(sysdep-LDFLAGS) --print-file-name=crtbegin.o`
+postctor = `$(CC) $(sysdep-LDFLAGS) --print-file-name=crtend.o`

# ç‰¹å®šäºä½ç½®ç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶(PIE)å’Œé™æ€é“¾æ¥ç¨‹åºçš„å˜ä½“ã€‚
# Variants of the two previous definitions for linking PIE programs.
+prectorS = `$(CC) $(sysdep-LDFLAGS) --print-file-name=crtbeginS.o`
+postctorS = `$(CC) $(sysdep-LDFLAGS) --print-file-name=crtendS.o`
# Variants of the two previous definitions for statically linking programs.
+prectorT = `$(CC) $(sysdep-LDFLAGS) --print-file-name=crtbeginT.o`
+postctorT = `$(CC) $(sysdep-LDFLAGS) --print-file-name=crtend.o`
csu-objpfx = $(common-objpfx)csu/
elf-objpfx = $(common-objpfx)elf/â€

# å®šä¹‰äº†ä¸€ä¸ªå‘½ä»¤ï¼Œå½“å®ƒå‰ç½®åœ¨ç¨‹åºåç§°åŠå…¶å‚æ•°ä¹‹å‰ï¼Œå¹¶åœ¨æ„å»ºç³»ç»Ÿä¸Šè¿è¡Œæ—¶ï¼Œ
# ä¼šä½¿å¾—è¯¥ç¨‹åºåŠå…¶å‚æ•°åœ¨ä¸ºåº“æ„å»ºçš„ç›®æ ‡ä¸»æœºä¸Šè¿è¡Œã€‚
ifndef test-wrapper
test-wrapper =  # å¦‚æœæœªå®šä¹‰ï¼Œåˆ™ä¸ºç©º
endif

# ç±»ä¼¼äº&#x27;test-wrapper&#x27;ï¼Œä½†ç¨‹åºåç§°å‰ä¼šæœ‰ç¯å¢ƒå˜é‡&lt;variable&gt;=&lt;value&gt;çš„èµ‹å€¼ã€‚
ifndef test-wrapper-env
test-wrapper-env = $(test-wrapper) env  # ä½¿ç”¨&#x27;test-wrapper&#x27;å¹¶æ·»åŠ envå‘½ä»¤
endif

# åŒæ ·ç±»ä¼¼äº&#x27;test-wrapper&#x27;ï¼Œä½†æ˜¯ç¨‹åºçš„ç¯å¢ƒå°†é™¤äº†æ˜¾å¼æŒ‡å®šçš„&lt;variable&gt;=&lt;value&gt;èµ‹å€¼å¤–ä¸ºç©ºã€‚
ifndef test-wrapper-env-only
test-wrapper-env-only = $(test-wrapper) env -i  # ä½¿ç”¨&#x27;test-wrapper&#x27;å¹¶æ·»åŠ env -iå‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªå‡ ä¹ç©ºçš„ç¯å¢ƒ
endif

# æ˜¯å¦åœ¨ç›®æ ‡ä¸»æœºä¸Šè¿è¡Œä¸ºåº“æ„å»ºçš„æµ‹è¯•ç¨‹åºã€‚å¦‚æœäº¤å‰ç¼–è¯‘æˆ–&#x27;test-wrapper&#x27;å­˜åœ¨ï¼Œåˆ™é»˜è®¤ä¸ºnoã€‚
ifndef run-built-tests
ifeq (yes|,$(cross-compiling)|$(test-wrapper))
run-built-tests = no  # å¦‚æœæ­£åœ¨äº¤å‰ç¼–è¯‘æˆ–è€…è®¾ç½®äº†test-wrapperï¼Œåˆ™ä¸è¿è¡Œæ„å»ºçš„æµ‹è¯•
else
run-built-tests = yes  # å¦åˆ™ï¼Œè¿è¡Œæ„å»ºçš„æµ‹è¯•
endif
endif

# å½“æµ‹è¯•å¤±è´¥æ—¶æ˜¯å¦ç«‹å³åœæ­¢ã€‚éç©ºæ„å‘³ç€åœæ­¢ï¼Œç©ºæ„å‘³ç€ç»§ç»­ã€‚
ifndef stop-on-test-failure
stop-on-test-failure =  # é»˜è®¤ä¸ºç©ºï¼Œå³ä¸åœæ­¢
endif

# å¦‚ä½•è¿è¡Œåˆšåˆšä½¿ç”¨æˆ‘ä»¬çš„åº“é“¾æ¥çš„ç¨‹åºã€‚å‡è®¾ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶æ˜¯$(word 2,$^)ã€‚
built-program-file = $(dir $(word 2,$^))$(notdir $(word 2,$^))  # è·å–æ„å»ºç¨‹åºæ–‡ä»¶çš„è·¯å¾„å’Œåç§°
rtld-prefix = $(elf-objpfx)$(rtld-installed-name)			      \
	      --library-path						      \
	      $(rpath-link)$(patsubst %,:%,$(sysdep-library-path))  # è®¾ç½®åŠ¨æ€é“¾æ¥å™¨çš„è·¯å¾„

# å¦‚æœæ„å»ºå…±äº«åº“ï¼Œåˆ™è®¾ç½®é€—å·å˜é‡å’Œç³»ç»Ÿä¾èµ–åº“è·¯å¾„
ifeq (yes,$(build-shared))
comma = ,
sysdep-library-path = \
$(subst $(empty) ,:,$(strip $(patsubst -Wl$(comma)-rpath-link=%, %,\
				       $(filter -Wl$(comma)-rpath-link=%,\
						$(sysdep-LDFLAGS)))))
# $(run-via-rtld-prefix)æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œå½“å®ƒå‰ç½®åˆ°ç”¨æ–°æ„å»ºåº“ç¼–å†™çš„ç¨‹åºåç§°å‰æ—¶ï¼Œ
# å¯ä»¥åœ¨ç›®æ ‡ä¸»æœºä¸Šæ‰§è¡Œè¯¥ç¨‹åºã€‚å¯¹äºtests-staticæˆ–xtests-staticä¸­åˆ—å‡ºçš„æµ‹è¯•ï¼Œå®ƒæ˜¯ç©ºçš„ã€‚
run-via-rtld-prefix =							      \
  $(if $(strip $(filter $(notdir $(built-program-file)),		      \
			$(tests-static) $(xtests-static))),, $(rtld-prefix))

else
run-via-rtld-prefix =  # å¦‚æœä¸æ˜¯æ„å»ºå…±äº«åº“ï¼Œåˆ™ä¸ºç©º
endif

# $(run-program-env)æ˜¯åœ¨è¿è¡Œä½¿ç”¨æ–°æ„å»ºåº“ç¼–å†™çš„ç¨‹åºæ—¶ä½¿ç”¨çš„é»˜è®¤ç¯å¢ƒå˜é‡è®¾ç½®ã€‚
run-program-env = GCONV_PATH=$(common-objpfx)iconvdata \
		  LOCPATH=$(common-objpfx)localedata LC_ALL=C

# $(run-program-prefix)æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œå½“å®ƒå‰ç½®åˆ°ä½¿ç”¨æ–°æ„å»ºåº“ç¼–å†™çš„ç¨‹åºåç§°å‰æ—¶ï¼Œ
# å¯ä»¥åœ¨æ„å»ºç³»ç»Ÿä¸Šè¿è¡Œè¯¥ç¨‹åºã€‚$(run-program-prefix-before-env)å’Œ$(run-program-prefix-after-env)
# æ˜¯ç±»ä¼¼çš„éƒ¨åˆ†ï¼Œåˆ†åˆ«ä½äºç¯å¢ƒå˜é‡åˆ—è¡¨ä¹‹å‰å’Œä¹‹åã€‚
run-program-prefix-before-env = $(test-wrapper-env)
run-program-prefix-after-env = $(run-via-rtld-prefix)
run-program-prefix = $(run-program-prefix-before-env) $(run-program-env) \
		     $(run-program-prefix-after-env)

# $(built-program-cmd)æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œå½“åœ¨æ„å»ºç³»ç»Ÿä¸Šæ‰§è¡Œæ—¶ï¼Œå¯ä»¥è¿è¡Œä½œä¸ºmakefileç›®æ ‡ç¬¬äºŒä¸ªä¾èµ–çš„æ–°æ„å»ºçš„ç¨‹åºã€‚
built-program-cmd-before-env = $(test-wrapper-env)
built-program-cmd-after-env = $(run-via-rtld-prefix) $(built-program-file)
built-program-cmd = $(built-program-cmd-before-env) $(run-program-env) \
		    $(built-program-cmd-after-env)

# $(host-built-program-cmd)æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œå½“åœ¨ä¸ºç›®æ ‡åº“æ„å»ºçš„ä¸»æœºä¸Šæ‰§è¡Œæ—¶ï¼Œ
# å¯ä»¥è¿è¡Œä½œä¸ºmakefileç›®æ ‡ç¬¬äºŒä¸ªä¾èµ–çš„æ–°æ„å»ºçš„ç¨‹åºã€‚
host-built-program-cmd = $(run-via-rtld-prefix) $(built-program-file)

ifndef LD
LD := ld -X  # å¦‚æœæœªå®šä¹‰LDï¼Œåˆ™é»˜è®¤è®¾ç½®ä¸ºld -X
endif

# æ¥ä¸‹æ¥çš„å‡ ä¸ªéƒ¨åˆ†ï¼ˆä»$(test-via-rtld-prefix)å¼€å§‹ï¼‰ä¸ä¸Šè¿°ç±»ä¼¼ï¼Œä½†ä¸“é—¨é’ˆå¯¹æµ‹è¯•ç¨‹åºã€‚
# è¿™äº›éƒ¨åˆ†æä¾›äº†å¦‚ä½•åœ¨ç›®æ ‡ä¸»æœºæˆ–æ„å»ºç³»ç»Ÿä¸Šè¿è¡Œæµ‹è¯•ç¨‹åºçš„æ–¹æ³•ã€‚

# å¦‚æœè®¾ç½®ä¸ºyesï¼Œåˆ™åœ¨æµ‹è¯•ä¸­ç¡¬ç¼–ç è·¯å¾„ï¼Œä¸ä½¿ç”¨åŠ¨æ€é“¾æ¥å™¨å‰ç¼€ã€‚
ifeq (yes,$(build-hardcoded-path-in-tests))
test-via-rtld-prefix =  # æµ‹è¯•ç¨‹åºä¸é€šè¿‡åŠ¨æ€é“¾æ¥å™¨å‰ç¼€è¿è¡Œ
test-program-prefix-before-env = $(test-wrapper-env)  # ä½¿ç”¨æµ‹è¯•åŒ…è£…ç¯å¢ƒå˜é‡
test-program-prefix-after-env =  # ä¸éœ€è¦é¢å¤–çš„åç½®ç¯å¢ƒå˜é‡
test-program-prefix = $(test-program-prefix-before-env) $(run-program-env) \
		      $(test-program-prefix-after-env)  # å®šä¹‰äº†æµ‹è¯•ç¨‹åºçš„å‰ç¼€å‘½ä»¤
test-program-cmd-before-env = $(test-wrapper-env)  # åŒæ ·åœ°ï¼Œå®šä¹‰äº†å‰ç½®ç¯å¢ƒå˜é‡
test-program-cmd-after-env = $(built-program-file)  # æŒ‡å®šäº†æ„å»ºçš„ç¨‹åºæ–‡ä»¶
test-program-cmd = $(test-program-cmd-before-env) $(run-program-env) \
		   $(test-program-cmd-after-env)  # æ„å»ºæµ‹è¯•ç¨‹åºå‘½ä»¤
host-test-program-cmd = $(built-program-file)  # ç›®æ ‡ä¸»æœºä¸Šè¿è¡Œæµ‹è¯•ç¨‹åºå‘½ä»¤
else
# å¦‚æœä¸ç¡¬ç¼–ç è·¯å¾„ï¼Œåˆ™ä½¿ç”¨åŠ¨æ€é“¾æ¥å™¨å‰ç¼€
test-via-rtld-prefix = $(run-via-rtld-prefix)
test-program-prefix-before-env = $(run-program-prefix-before-env)
test-program-prefix-after-env = $(run-program-prefix-after-env)
test-program-prefix = $(run-program-prefix)
test-program-cmd-before-env = $(built-program-cmd-before-env)
test-program-cmd-after-env = $(built-program-cmd-after-env)
test-program-cmd = $(built-program-cmd)
host-test-program-cmd = $(host-built-program-cmd)
endif

# GCCçš„é¢å¤–æ ‡å¿—ã€‚å¦‚æœå¯ç”¨äº†æ‰€æœ‰è­¦å‘Šï¼Œåˆ™æ·»åŠ æ›´å¤šè­¦å‘Šæ ‡å¿—ã€‚
ifeq ($(all-warnings),yes)
+gccwarn := -Wall -Wwrite-strings -Wcast-qual -Wbad-function-cast -Wmissing-noreturn -Wmissing-prototypes -Wmissing-declarations -Wcomment -Wcomments -Wtrigraphs -Wsign-compare -Wfloat-equal -Wmultichar
else
+gccwarn := -Wall -Wwrite-strings
endif
+gccwarn += -Wundef  # æ·»åŠ -Wundefæ ‡å¿—
ifeq ($(enable-werror),yes)
+gccwarn += -Werror  # å¦‚æœå¯ç”¨werrorï¼Œåˆ™å°†è­¦å‘Šè§†ä¸ºé”™è¯¯
endif
+gccwarn-c = -Wstrict-prototypes -Wold-style-definition  # Cè¯­è¨€ç‰¹å®šçš„è­¦å‘Šæ ‡å¿—

# å…è®¸ç¼–è¯‘å™¨åˆå¹¶æ‰€æœ‰å¸¸é‡ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦ä¸åŒæ–‡ä»¶ä¸­çš„å¸¸é‡åœ°å€æ˜¯ä¸åŒçš„ã€‚
+merge-constants = -fmerge-all-constants

# ç¦ç”¨ä»»ä½•å‡è®¾é»˜è®¤èˆå…¥æ¨¡å¼çš„ä¼˜åŒ–ï¼Œå› ä¸ºglibcå‡½æ•°å¯èƒ½åœ¨ä»»ä½•èˆå…¥æ¨¡å¼ä¸‹è°ƒç”¨ã€‚
+math-flags = -frounding-math

# ç”¨äºä»Cæºæ–‡ä»¶ç”ŸæˆMakefileä¾èµ–å…³ç³»çš„ç¨‹åºã€‚-MPæ ‡å¿—ç¡®ä¿GCCç”Ÿæˆå¤´æ–‡ä»¶çš„è™šæ‹Ÿç›®æ ‡ï¼Œä»¥é˜²æ­¢å·²ç§»é™¤çš„å¤´æ–‡ä»¶ç ´åæ„å»ºã€‚
ifndef +mkdep
+mkdep = $(CC) -M -MP
endif

# ç”ŸæˆEmacsé£æ ¼TAGSæ–‡ä»¶çš„ç¨‹åºã€‚
ETAGS	:= etags

# ç”¨äºä»æºä»£ç ç”Ÿæˆ.potæ–‡ä»¶çš„`xgettext&#x27;ç¨‹åºã€‚
ifndef XGETTEXT
XGETTEXT = xgettext
endif

# `m4&#x27;å®å¤„ç†å™¨ï¼›ç”¨äºé¢„å¤„ç†æ±‡ç¼–ä»£ç ã€‚
M4 = m4

# å¼ºåˆ¶å®‰è£…æ–‡ä»¶ï¼Œå³ä½¿å®ƒä»¬æ¯”å·²å®‰è£…çš„æ–‡ä»¶æ—§ã€‚è¿™ä¸ªå˜é‡è¢«åŒ…å«åœ¨æ‰€æœ‰å®‰è£…ç›®æ ‡çš„ä¾èµ–åˆ—è¡¨ä¸­ã€‚
ifeq ($(force-install),yes)
+force = force-install
else
+force =
endif

# è¿™äº›æ˜¯ä¼ é€’ç»™ç¼–è¯‘å™¨çš„æ ‡å¿—ï¼Œå‘Šè¯‰å®ƒè¿›è¡Œä»€ä¹ˆæ ·çš„ä¼˜åŒ–å’Œ/æˆ–è°ƒè¯•è¾“å‡ºã€‚
ifndef	+cflags
ifdef		CFLAGS
+cflags	:= $(filter-out -I%,$(CFLAGS))  # å¦‚æœå®šä¹‰äº†CFLAGSï¼Œè¿‡æ»¤æ‰-Iå¼€å¤´çš„é€‰é¡¹
endif		# CFLAGS
endif	# +cflags

# å¦‚æœæ²¡æœ‰å…¶ä»–æ–¹å¼è®¾ç½®äº†+cflagsï¼Œé»˜è®¤ä½¿ç”¨&quot;-g -O&quot;ã€‚
ifeq	&quot;$(strip $(+cflags))&quot; &quot;&quot;
+cflags	:= $(default_cflags)
endif	# $(+cflags) == &quot;&quot;

+cflags += $(cflags-cpu) $(+gccwarn) $(+merge-constants) $(+math-flags)  # å¢åŠ é¢å¤–çš„ç¼–è¯‘å™¨æ ‡å¿—
+gcc-nowarn := -w  # ç¦æ­¢æ‰€æœ‰è­¦å‘Š

# å¯¹ç»§æ‰¿è‡ªçˆ¶çº§çš„å˜é‡å»é‡ã€‚
+cflags	:= $(sort $(+cflags))

# å®šä¹‰ç³»ç»Ÿä¾èµ–ç›®å½•ä¸­çš„includeè·¯å¾„ï¼Œä»¥ä¾¿ç¼–è¯‘æ—¶å¯ä»¥æ‰¾åˆ°è¿™äº›å¤´æ–‡ä»¶ã€‚
+sysdep-includes := $(foreach dir,$(+sysdep_dirs),\
			      $(addprefix -I,$(wildcard $(dir)/include) $(dir)))

# ç»™Cç¼–è¯‘å™¨çš„æ ‡å¿—ï¼ŒæŒ‡ç¤ºå…¶æŸ¥æ‰¾å¤´æ–‡ä»¶çš„ä½ç½®ã€‚
+includes = -I$(..)include $(if $(subdir),$(objpfx:%/=-I%)) \
	    $(+sysdep-includes) $(includes) \
	    $(patsubst %/,-I%,$(..)) $(libio-include) -I. $(sysincludes)

# libioå†…éƒ¨æœ‰å¤šä¸ªå¤´æ–‡ä»¶ï¼Œå› æ­¤ä½¿ç”¨-Iä»£æ›¿å°†è®¸å¤šå°çš„å¤´æ–‡ä»¶æ”¾åœ¨includeç›®å½•ä¸‹ã€‚
libio-include = -I$(..)libio

# åˆ—å‡ºæˆ‘ä»¬æ„å»ºçš„éåº“æ¨¡å—ã€‚
built-modules = iconvprogs iconvdata ldconfig lddlibc4 libmemusage \
		libSegFault libpcprofile librpcsvc locale-programs \
		memusagestat nonlib nscd extramodules libnldbl

# ç¡®å®šå½“å‰ç¼–è¯‘æ¨¡å—åç§°ï¼Œå°†&#x27;-&#x27;æ›¿æ¢ä¸º&#x27;_&#x27;ï¼Œå¹¶ä»å¤šä¸ªå¯èƒ½æ¥æºä¸­é€‰æ‹©ç¬¬ä¸€ä¸ªæœ‰æ•ˆå€¼ã€‚
in-module = $(subst -,_,$(firstword $(libof-$(basename $(@F))) \
				    $(libof-$(&lt;F)) \
				    $(libof-$(@F)) \
				    libc))

# ä¸ºç‰¹å®šæ¨¡å—ï¼ˆå¦‚libpthreadã€rtldå’Œlibcï¼‰ä½¿ç”¨-ftls-model=initial-execç¼–è¯‘é€‰é¡¹ã€‚
tls-model = $(if $(filter libpthread rtld \
			  libc,$(in-module)),-ftls-model=initial-exec,)

# å®šä¹‰å®é™…ä½¿ç”¨çš„æ¨¡å—Cé¢„å¤„ç†å™¨æ ‡å¿—ï¼ŒåŒ…æ‹¬åŒ…å«libc-modules.hå’Œå®šä¹‰MODULE_NAMEå®ã€‚
module-cppflags-real = -include $(common-objpfx)libc-modules.h \
		       -DMODULE_NAME=$(in-module)

# å¯¹äº.v.iæ–‡ä»¶ä¸ä½¿ç”¨libc-modules.hå’ŒMODULE_NAMEå®šä¹‰ï¼Œå› ä¸ºè¿™äº›ç›®æ ‡ä¸éœ€è¦IS_INè®¾æ–½ã€‚
module-cppflags = $(if $(filter %.v.i,$(@F)),,$(module-cppflags-real))

# éšå¼ç¼–è¯‘è§„åˆ™ä½¿ç”¨çš„å˜é‡ã€‚æ³¨æ„ï¼Œä¸èƒ½åœ¨CPPFLAGSä¸­ä½¿ç”¨-std=*ï¼Œå› ä¸ºå®ƒä¼šè¦†ç›–éšå¼çš„-lang-asmå¹¶ç ´å.Sæ–‡ä»¶çš„cppè¡Œä¸ºã€‚
CPPFLAGS = $(config-extra-cppflags) $(CPPUNDEFS) $(CPPFLAGS-config) \
	   $($(subdir)-CPPFLAGS) \
	   $(+includes) $(defines) $(module-cppflags) \
	   -include $(..)include/libc-symbols.h $(sysdep-CPPFLAGS) \
	   $(CPPFLAGS-$(suffix $@)) \
	   $(foreach lib,$(libof-$(basename $(@F))) \
			 $(libof-$(&lt;F)) $(libof-$(@F)),$(CPPFLAGS-$(lib))) \
	   $(CPPFLAGS-$(&lt;F)) $(CPPFLAGS-$(@F)) $(CPPFLAGS-$(basename $(@F)))

# è¦†ç›–CFLAGSä»¥æŒ‡å®šæ ‡å‡†å’Œå…¶ä»–ç¼–è¯‘å™¨æ ‡å¿—ã€‚
override CFLAGS	= -std=gnu11 -fgnu89-inline $(config-extra-cflags) \
		  $(filter-out %frame-pointer,$(+cflags)) $(+gccwarn-c) \
		  $(sysdep-CFLAGS) $(CFLAGS-$(suffix $@)) $(CFLAGS-$(&lt;F)) \
		  $(CFLAGS-$(@F)) $(tls-model) \
		  $(foreach lib,$(libof-$(basename $(@F))) \
				$(libof-$(&lt;F)) $(libof-$(@F)),$(CFLAGS-$(lib)))

# è¦†ç›–CXXFLAGSä»¥æŒ‡å®šC++ç¼–è¯‘å™¨çš„ç³»ç»ŸåŒ…å«è·¯å¾„å’Œå…¶ä»–æ ‡å¿—ã€‚
override CXXFLAGS = $(c++-sysincludes) \
		    $(filter-out %frame-pointer,$(+cflags)) $(sysdep-CFLAGS) \
		    $(CFLAGS-$(suffix $@)) $(CFLAGS-$(&lt;F)) $(CFLAGS-$(@F))

# å¦‚æœæ‰€æœ‰å†…å®¹éƒ½éšå¼åœ°ä½¿ç”¨-fPICç¼–è¯‘ï¼Œåˆ™é€šè¿‡å®šä¹‰PICç¬¦å·æ¥å‘ŠçŸ¥è¿™ä¸€ç‚¹ã€‚
ifeq (yes,$(build-pic-default))
pic-default = -DPIC
endif

# å¯ç”¨ä¸åŒç‰ˆæœ¬åº“çš„å¯¹è±¡æ–‡ä»¶ã€‚
libtypes = $(foreach o,$(object-suffixes-for-libc),$(libtype$o))
all-object-suffixes := .o .os .op .og .oS
object-suffixes :=
CPPFLAGS-.o = $(pic-default)
CFLAGS-.o = $(filter %frame-pointer,$(+cflags))
libtype.o := lib%.a
object-suffixes += .o

# å¦‚æœå¯ç”¨äº†å…±äº«åº“æ„å»ºï¼Œåˆ™æ·»åŠ å¯¹PICå¯¹è±¡çš„æ”¯æŒã€‚
ifeq (yes,$(build-shared))
object-suffixes += .os
CPPFLAGS-.os = -DPIC -DSHARED
CFLAGS-.os = $(filter %frame-pointer,$(+cflags)) $(pic-ccflag)
libtype.os := lib%_pic.a
pic-ccflag = -fPIC
PIC-ccflag = -fPIC
endif

# PIEæ”¯æŒã€‚
pie-ccflag = -fpie
PIE-ccflag = -fPIE

# å¦‚æœå¯ç”¨äº†æ€§èƒ½åˆ†æåº“æ„å»ºï¼Œåˆ™æ·»åŠ å¯¹æ€§èƒ½åˆ†æå¯¹è±¡çš„æ”¯æŒã€‚
ifeq (yes,$(build-profile))
object-suffixes += .op
CPPFLAGS-.op = -DPROF $(pic-default)
CFLAGS-.op = -pg
libtype.op = lib%_p.a
endif

# æ–¹ä¾¿å˜é‡ï¼Œç”¨äºåŒºåˆ†å…±äº«åº“æƒ…å†µä¸å…¶ä»–æƒ…å†µã€‚
object-suffixes-noshared := $(filter-out .os,$(object-suffixes))

object-suffixes-for-libc := $(object-suffixes)

# æ„å»ºç‰¹æ®Šåº“ï¼ŒåŒ…å«ä»…é™æ€ä¾‹ç¨‹çš„libcéƒ¨åˆ†ã€‚
ifeq (yes,$(build-shared))
object-suffixes-for-libc += .oS
CFLAGS-.oS = $(CFLAGS-.o) $(PIC-ccflag)
CPPFLAGS-.oS = $(CPPFLAGS-.o) -DPIC -DLIBC_NONSHARED=1
libtype.oS = lib%_nonshared.a
endif
</code></pre></details></li></ul></details></li></ul></div></p></details></li></ul><blockquote id="1900427e-38bb-8065-82cc-cd947ab37f5f" class="">ç›¸å…³é—®é¢˜è§£å†³ï¼š<figure id="1900427e-38bb-8055-957c-c15981a999fb" class="image"><a href="%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E7%AE%A1%E7%90%86%20e01116f7e2c847f0800bb06ee8ad06c1/image%201.png"><img style="width:576px" src="%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E7%AE%A1%E7%90%86%20e01116f7e2c847f0800bb06ee8ad06c1/image%201.png"/></a></figure><p id="1900427e-38bb-802f-bbea-e33a417de03c" class="">è§£å†³ï¼šä¸çŸ¥é“æ€ä¹ˆè§£å†³å•Šâ€¦</p></blockquote><h3 id="1880427e-38bb-80e6-b2e7-ed8b8655ab6c" class="">2-ä¸´æ—¶åœ°æŒ‡å®šåŠ¨æ€é“¾æ¥å™¨åœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œä½¿ç”¨çš„glibcåº“</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1880427e-38bb-8000-8cb9-d37963861eb4" class="code"><code class="language-Shell"># æŒ‡å®šè¯¥ç¯å¢ƒå˜é‡
export LD_LIBRARY_PATH=/usr/local/glibc-2.23/lib:$LD_LIBRARY_PATH
# æŸ¥çœ‹è¯¥ç¯å¢ƒå˜é‡
echo $LD_LIBRARY_PATH</code></pre><blockquote id="1880427e-38bb-80f2-aebf-df5f0f1ef354" class=""><mark class="highlight-default"><code>LD_LIBRARY_PATH</code></mark><mark class="highlight-default"> æ˜¯ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œä¸»è¦ç”¨äºæŒ‡å®šåŠ¨æ€é“¾æ¥å™¨ï¼ˆlinkerï¼‰åœ¨æ‰§è¡Œç¨‹åºæ—¶æœç´¢å…±äº«åº“ï¼ˆshared librariesï¼‰çš„è·¯å¾„åˆ—è¡¨ã€‚</mark><p id="1880427e-38bb-80d8-8aa3-d51b0a79ab8b" class="">è¿™é‡Œåœ¨æ‰§è¡Œè¯¥ç¨‹åºä¹‹å‰ï¼ŒåŠ¨æ€é“¾æ¥å™¨ä¼šé¦–å…ˆåœ¨/usr/local/glibc-2.23/libç›®å½•ä¸‹æŸ¥æ‰¾æ‰€éœ€çš„å…±äº«åº“ï¼Œç„¶åå†ä¾ç…§åŸæœ‰çš„è·¯å¾„é¡ºåºè¿›è¡ŒæŸ¥æ‰¾ã€‚</p></blockquote><blockquote id="1880427e-38bb-8014-a775-fca4f1d28787" class="">æ³¨æ„ï¼Œè¿™ç§æ–¹å¼é€šå¸¸ç”¨äºä¸´æ—¶æ€§çš„æ”¹å˜ï¼Œè‹¥è¦æ°¸ä¹…ç”Ÿæ•ˆï¼Œåˆ™éœ€è¦å°†ä¸Šè¿°å‘½ä»¤æ·»åŠ åˆ°ä½ çš„shellé…ç½®æ–‡ä»¶ä¸­ã€‚</blockquote><p id="1880427e-38bb-80d8-b452-ef0b8a4bc11f" class="">æˆ–è€…ï¼Œç›´æ¥ç”¨è¿™ä¸ªæŒ‡ä»¤ï¼Œå°†ä¼šä½¿ç”¨ glibc 2.23 é‡Œé¢çš„åŠ¨æ€é“¾æ¥å™¨æ¥è¿è¡Œåº”ç”¨ç¨‹åºï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1880427e-38bb-801d-b2e9-ee8e391f45dc" class="code"><code class="language-Shell">LD_PRELOAD=/usr/local/glibc-2.23/lib/ld-2.30.so ./your_application</code></pre><blockquote id="1880427e-38bb-807b-bc08-c01a4660fd9d" class=""><mark class="highlight-red"><mark class="highlight-red_background">è¿™é‡ŒæŒ‡ä»¤ä¸­çš„ldç‰ˆæœ¬å¯èƒ½è¦æ”¹ä¸€ä¸‹ï¼</mark></mark></blockquote><h1 id="b0f661ff-598d-49c9-9b6a-1e1bba553c9b" class="">äºŒã€æ–¹æ¡ˆ2ï¼šç›´æ¥ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ubantu</h1><p id="1950427e-38bb-80e7-b13c-c8302de6c12e" class="">å®‰è£…ä»¥ä¸‹ä¸åŒç‰ˆæœ¬çš„ubantuè™šæ‹Ÿæœºï¼Œå°±ä¼šè‡ªåŠ¨å¯¹åº”åˆ°å¯¹åº”ç‰ˆæœ¬çš„glibcï¼š</p><table id="1950427e-38bb-80f5-8dac-db183de8f2f9" class="simple-table"><tbody><tr id="1950427e-38bb-80de-822d-c916a363af2a"><td id="`DaI" class="">ubantu16.04</td><td id="|[TN" class="">glibc2.23</td></tr><tr id="1950427e-38bb-800c-8ceb-c182e78ccd17"><td id="`DaI" class=""></td><td id="|[TN" class=""></td></tr><tr id="1950427e-38bb-80f3-b7bb-f0436b00ed96"><td id="`DaI" class=""></td><td id="|[TN" class=""></td></tr></tbody></table><p id="1950427e-38bb-8087-a0ec-f5ae9eebd515" class="">
</p><h1 id="9732c5c9-904f-4ec3-9a5d-e99bb4ffe5d0" class="">ä¸‰ã€å…¶ä»–</h1><p id="1950427e-38bb-8097-99ef-de311fcff594" class="">è®¾ç½®ç¨‹åºè¿è¡Œæ—¶ï¼Œä½¿ç”¨æŸç§glibc</p><h3 id="1e4c3604-a32d-418a-9d76-5c7730172a98" class="">ï¼ˆä¸€ï¼‰æŒ‡å®šç¨‹åºè¦ç”¨åˆ°çš„glibcç‰ˆæœ¬</h3><p id="a593ae2a-64bc-4a9e-878a-f9c3da423126" class="">ç¨‹åºæ‰§è¡Œæ—¶ï¼ŒæŒ‰å¦‚ä¸‹çš„é¡ºåºæœç´¢å¯æ‰§è¡Œç¨‹åºéœ€è¦çš„å¤–éƒ¨åŠ¨æ€åº“æ–‡ä»¶:ï¼š</p><p id="ee759e2a-a094-45a2-ba49-68748b1a5b7c" class="">1ã€ç¼–è¯‘ç›®æ ‡ä»£ç æ—¶æŒ‡å®šçš„åŠ¨æ€é“¾æ¥åº“æœç´¢è·¯å¾„<div class="indented"><p id="e5c48637-9202-435d-99c0-a74574aad4ae" class="">å³ï¼šåœ¨gccä¸­ä½¿ç”¨<code>-Wl,-rpath</code>æˆ–<code>-R</code>é€‰é¡¹æŒ‡å®šçš„ç›®å½•</p><blockquote id="4749931e-2db0-4e60-8030-d5525273d913" class="">å…¶å®ç°åŸç†æ˜¯ï¼š<p id="49430bcc-2b2c-44a6-9bc5-66bd14fed33f" class="">åœ¨ELFæ–‡ä»¶çš„åŠ¨æ€èŠ‚ä¸­ï¼Œæœ‰ä¸€ä¸ªåä¸º<code><strong>.dynamic</strong></code>çš„èŠ‚ï¼Œå®ƒåŒ…å«äº†ä¸€ç³»åˆ—çš„åŠ¨æ€æ¡ç›®ï¼ˆdynamic entriesï¼‰ã€‚å…¶ä¸­çš„ä¸€ä¸ªåŠ¨æ€æ¡ç›®æ˜¯<code><strong>DT_RPATH</strong></code>ï¼Œå®ƒå­˜å‚¨äº†è¿è¡Œæ—¶åº“çš„æœç´¢è·¯å¾„ã€‚å¦ä¸€ä¸ªç›¸å…³çš„åŠ¨æ€æ¡ç›®æ˜¯<code><strong>DT_RUNPATH</strong></code>ï¼Œå®ƒä¹Ÿå­˜å‚¨äº†è¿è¡Œæ—¶åº“çš„æœç´¢è·¯å¾„ï¼Œä½†ä¼˜å…ˆçº§é«˜äº<code><strong>DT_RPATH</strong></code>ã€‚å¦‚æœåŒæ—¶å­˜åœ¨<code><strong>DT_RPATH</strong></code>å’Œ<code><strong>DT_RUNPATH</strong></code>ï¼Œåˆ™ç³»ç»Ÿä¼šä¼˜å…ˆä½¿ç”¨<code><strong>DT_RUNPATH</strong></code>ã€‚</p><p id="62d2ff39-fab0-484f-bb91-8f9d9f94cb63" class="">ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¯¥å‚æ•°åªä¼šå­˜å‚¨ç›¸å…³æ–‡ä»¶åä¿¡æ¯</p><p id="dc4c6abe-f4dd-46b3-bd04-482171b0f063" class="">ä½¿ç”¨è¯¥å‚æ•°æ—¶ï¼Œ<code>DT_RPATH</code>å’Œ<code>DT_RUNPATH</code>æ¡ç›®ä¼šè¢«è®¾ç½®ä¸ºç›¸å…³æ–‡ä»¶è·¯å¾„ä¿¡æ¯</p></blockquote><ul id="e5f02b50-27ab-48db-9463-544250b6bf15" class="toggle"><li><details open=""><summary>ç¤ºä¾‹</summary><p id="5d0096c0-1994-4ae1-99e8-bc9a394cda73" class="">
</p></details></li></ul></div></p><p id="93baa7dd-7b17-4ecf-a959-e0c986174d52" class="">2ã€ç¯å¢ƒå˜é‡<code>LD_LIBRARY_PATH</code>æŒ‡å®šçš„åŠ¨æ€é“¾æ¥åº“æœç´¢è·¯å¾„</p><p id="4a9b40bb-3c13-4185-97e8-e1652d12c3d7" class="">3ã€é…ç½®æ–‡ä»¶<code>/etc/ld.so.conf</code>ä¸­æŒ‡å®šçš„åŠ¨æ€åº“æœç´¢è·¯å¾„</p><p id="566f7db7-3887-4ad6-8266-535d78cd914a" class="">4ã€é»˜è®¤çš„åŠ¨æ€åº“æœç´¢è·¯å¾„<code>/lib</code></p><p id="7404bee9-707d-4bc8-be36-9de30ad6f6b6" class="">5ã€é»˜è®¤çš„åŠ¨æ€åŒºæœç´¢è·¯å¾„<code>/usr/lib</code></p><blockquote id="c3459782-5f08-4d6f-bd96-dce7a9b44cc6" class="">ç‰¹åˆ«æ³¨æ„ï¼Œ<code>/usr/local/lib</code>å¹¶ä¸æ˜¯é»˜è®¤çš„åŠ¨æ€é“¾æ¥åº“æœç´¢è·¯å¾„ï¼Œä½†ç¼–è¯‘æ—¶ä¼šå»è¿™ä¸ªç›®å½•ä¸­æŸ¥æ‰¾åº“</blockquote><h3 id="036563b6-485a-4fdd-800b-b81a18cebbc3" class="">ï¼ˆäºŒï¼‰é€šè¿‡è¯»elfç›¸å…³èŠ‚è·å¾—ç¨‹åºè¦ä½¿ç”¨çš„glibcæ–‡ä»¶å&amp;è·¯å¾„</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="dc0478bc-446c-41a3-bde1-a43759054411" class="code"><code class="language-JavaScript">ldd sqlite-test</code></pre><h3 id="e446cf27-5fba-44d1-898f-b2f8b642e17b" class="">ï¼ˆä¸‰ï¼‰é€šè¿‡å¯¹elfç›¸å…³èŠ‚è¿›è¡Œpatchçš„æ–¹å¼ä¿®æ”¹ç¨‹åºè¦ä½¿ç”¨åˆ°çš„glibcè·¯å¾„</h3><p id="956409a2-0c1b-44a0-af0e-f7840fbdeae3" class="">
</p><p id="80969154-1198-4670-a7c3-42c414185c09" class="">æŒ‡å®šå…¶ä»–å‚æ•°</p><h3 id="542c4110-df80-4da4-938c-c17cda9ef4d0" class="">ï¼ˆä¸€ï¼‰æŒ‡å®šç”¨æŸä¸ªåº“åšåŠ¨æ€é“¾æ¥</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="416fd078-b09e-42b8-8aa4-6ec1a6118e43" class="code"><code class="language-JavaScript">gcc -o sqlite-test sqlite-test.c -lsqlite3</code></pre><p id="0ee882cc-52db-4163-9c0f-2500dd6ad381" class="">è¿™é‡Œ-lsqlite3è¡¨ç¤ºéœ€è¦é“¾æ¥å‡½æ•°åº“sqlite3ï¼Œè¿™æ ·gccåœ¨ç¼–è¯‘æ—¶ä¼šå°†è¯¥åº“é“¾æ¥ä¿¡æ¯è®¾ç½®åˆ°ç¨‹åºçš„elfç›¸å…³èŠ‚ä¸­</p><h3 id="d8b90f59-be36-46ba-8a97-16b98f8d01dc" class="">ï¼ˆäºŒï¼‰æŒ‡å®šå¤´æ–‡ä»¶åº“æ–‡ä»¶</h3><p id="c6f31b16-ec87-4155-96c9-db5934515e3c" class="">ç¼–è¯‘pow_test.cæ—¶ï¼Œéœ€è¦è°ƒç”¨libpowç›®å½•ä¸‹çš„å¤´æ–‡ä»¶pow.hä¸åº“æ–‡ä»¶libpow.soæˆ–libpow.aï¼Œå¤´æ–‡ä»¶ä¸åº“æ–‡ä»¶ä¸åœ¨é»˜è®¤çš„/usr/æˆ–/usr/localç›®å½•ä¸­ï¼Œéœ€è¦åœ¨gccä¸­æŒ‡å®šå¤´æ–‡ä»¶ä¸åº“æ–‡ä»¶ç›®å½•ï¼Œä»¥åŠè¿æ¥çš„åº“</p><blockquote id="8e74d8ed-fab9-4fa6-b34b-a162437c1b5e" class="">è¿™é‡Œå‡è®¾æ‰€éœ€è¦çš„å¤´æ–‡ä»¶ä½äº./libpowï¼Œåº“æ–‡ä»¶ä¹Ÿä½äº./libpow ç›®å½•ï¼Œåº“åä¸ºpowï¼Œåˆ™å¯ä»¥è¿™ä¹ˆä¹¦å†™ï¼š</blockquote><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a3488e81-496e-4f8a-86f4-3afddd27b590" class="code"><code class="language-Shell">gcc -o pow_test pow_test.c -I./libpow -L./libpow -lpow #åŠ¨æ€é“¾æ¥
gcc -static -o pow_test.static pow_test.c -I./libpow -L./libpow -lpow #é™æ€é“¾æ¥</code></pre><p id="ed38e057-4007-47a8-aa5a-d158ee22a701" class="">ç¼–è¯‘ç”Ÿæˆé™æ€é“¾æ¥åº“&amp;åŠ¨æ€é“¾æ¥åº“</p><ul id="79897dc9-7e55-47b6-b8d5-4842d021521f" class="toggle"><li><details open=""><summary>ç”Ÿæˆé™æ€åº“</summary><p id="4dfff306-67d3-4065-b0da-103316d7275c" class="">é™æ€å‡½æ•°åº“.açš„ç”Ÿæˆéœ€è¦å…ˆæŠŠä»£ç ç¼–è¯‘æˆ.oçš„ç›®æ ‡æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œarå‘½ä»¤ç”Ÿæˆ.açš„é™æ€åº“ã€‚</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6fa46ffe-7632-4da6-b1ff-c57c062a8a22" class="code"><code class="language-JavaScript">gcc -c pow.c
ar -rcsv libpow.a pow.o</code></pre></details></li></ul><ul id="84e59c18-b58d-47b2-b5ad-be249e3ff98f" class="toggle"><li><details open=""><summary>ç”ŸæˆåŠ¨æ€åº“</summary><p id="d43e415e-658c-4804-b5ff-b56a98ca3037" class="">éœ€è¦æ‰§è¡Œå¸¦-fPICå‚æ•°çš„gccå‘½ä»¤æŠŠä»£ç ç¼–è¯‘æˆåœ°å€æ— å…³åŒ–çš„.oç›®æ ‡æ–‡ä»¶</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="00838938-1b79-410e-9c30-35e1c0ecacb8" class="code"><code class="language-JavaScript">gcc -fPIC -Wall -c pow.c</code></pre><p id="67c4345f-d3d5-48e1-a21a-c3af9d0e6d71" class="">ç„¶åæ‰§è¡Œå¸¦-sharedå‚æ•°gccå‘½ä»¤æŠŠ.oçš„ç›®æ ‡æ–‡ä»¶ç”Ÿæˆ.soçš„åŠ¨æ€å‡½æ•°åº“</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="edefeff1-4056-45c4-b4bb-5c303b9b0b3a" class="code"><code class="language-JavaScript">gcc -shared -o libpow.so pow.o</code></pre></details></li></ul><p id="c884a1b4-94f7-4ac3-892d-ccc42bd819bd" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>